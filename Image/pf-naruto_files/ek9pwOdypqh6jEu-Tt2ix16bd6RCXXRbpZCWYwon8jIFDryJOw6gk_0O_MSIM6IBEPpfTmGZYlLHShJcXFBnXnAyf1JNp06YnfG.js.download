;/*FB_PKG_DELIM*/

__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(d){return c[0]=b.i64.of_float(Date.now()),b.fe(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCreateOfflineThreadingID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return c.i64.neq(a[1],f)?c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[f,f],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[f,f],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],f)?c.seq([function(e){return c.i64.neq(d[1],f)?c.i64.gt(a[2],d[1])?c.seq([function(b){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})})},function(a){return d[3]=new c.Map(),d[3].set("thread_fbid",d[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",c.i64.cast([0,95])),d[3].set("metadata_only",!1),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):c.resolve():c.resolve()},function(a){return d[2]=d[0]}]):c.seq([function(e){return c.i64.neq(a[1],f)?c.seq([function(e){return c.i64.neq(a[2],c.i64.cast([0,20]))?(d[9]=new c.Map(),d[9].set("thread_fbid",a[1]),d[9].set("force_upsert",!1),d[9].set("use_open_messenger_transport",!1),d[9].set("sync_group",c.i64.cast([0,95])),d[9].set("metadata_only",!1),d[9].set("preview_only",!1),d[10]=d[9].get("thread_fbid"),d[9],d[11]=c.toJSON(d[9]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[10]),c.i64.cast([0,209]),d[11],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()},function(b){return d[3]=a[1]}]):c.seq([function(a){return d[9]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[9]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[3]=d[10]}])},function(b){return c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))?(b=["inbox",c.i64.cast([0,0])],d[4]=b[0],d[5]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,1]))?(b=["pending",c.i64.cast([-1,4294967295])],d[9]=b[0],d[10]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,2]))?(b=["other",c.i64.cast([-1,4294967294])],d[11]=b[0],d[12]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,3]))?(b=["spam",c.i64.cast([-1,4294967293])],d[13]=b[0],d[14]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,5]))?(b=["hidden",c.i64.cast([-1,4294967292])],d[15]=b[0],d[16]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,4]))?(b=["archived",c.i64.cast([-1,4294967286])],d[17]=b[0],d[18]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,15]))?(b=["restricted",c.i64.cast([-1,4294967281])],d[19]=b[0],d[20]=b[1],b):(b=["inbox",c.i64.cast([0,0])],d[19]=b[0],d[20]=b[1],b),b=[d[19],d[20]],d[17]=b[0],d[18]=b[1],b),b=[d[17],d[18]],d[15]=b[0],d[16]=b[1],b),b=[d[15],d[16]],d[13]=b[0],d[14]=b[1],b),b=[d[13],d[14]],d[11]=b[0],d[12]=b[1],b),b=[d[11],d[12]],d[9]=b[0],d[10]=b[1],b),b=[d[9],d[10]],d[4]=b[0],d[5]=b[1],b),d[6]=c.i64.cast([64,1083495711]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),c.fe(c.ftr(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:c.i64.cast([0,4096]),threadType:a[0],folderName:d[4],lastActivityTimestampMs:c.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:c.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:d[5],authorityLevel:a[2],capabilities:d[6],capabilities2:d[7],capabilities3:d[8],unsendLimitMs:c.i64.cast([-1,4294967295]),syncGroup:c.i64.cast([0,95])})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=c.i64.cast([64,1083495711]),d[3]=c.i64.cast([0,0]),d[4]=c.i64.cast([0,0]),c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.fe(c.ftr(c.db.table(9).fetch([[[d[1]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[1],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[5],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[2],capabilities2:d[3],capabilities3:d[4],nullstateDescriptionText1:a[1],threadName:a[2]})},function(e){return d[6]=c.i64.of_int32(a[0].length),c.i64.gt(d[6],c.i64.cast([0,0]))?c.loopAsync(d[6],function(e){return d[7]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(a){return c.fe(c.ftr(c.db.table(14).fetch([[[d[1],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[8])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[1],contactId:d[8],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),c.sp(b("LSCreateOfflineThreadingID"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[2])})})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",d[0]),d[3].set("otid",c.i64.to_string(d[2])),d[3].set("source",c.i64.cast([0,0])),d[3].set("send_type",c.i64.cast([0,8])),a[3]!==f?d[3].set("text",a[3]):0,d[4]=new c.Map(),d[4].set("participants",a[0]),d[4].set("send_payload",d[3]),a[2]!==f?d[4].set("thread_name",a[2]):0,d[5]=d[4].get("send_payload"),d[4],d[6]=d[5].get("thread_id"),d[5],d[7]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,130]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]))},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20])}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,c.seq([function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),igFolder:a[1]})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[4]=b.clientThreadPk,c.db.table(276).fetch([[[d[4]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.fe(c.db.table(276).fetch([[[d[4]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("sync_group",d[0]),d[2].set("ig_folder",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"message_request",c.i64.cast([0,66]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("IGDThemeConfig",[],(function(a,b,c,d,e,f){"use strict";a={dark:{"card-background":"rgb(var(--ig-primary-background))","comment-background":"rgb(var(--ig-highlight-background))","filter-primary-icon":"invert(100%)","messenger-card-background":"rgb(var(--ig-primary-background))","mwp-message-list-actions-width":"96px","primary-text":"rgb(var(--ig-primary-text))"},light:{"card-background":"rgb(var(--ig-primary-background))","comment-background":"rgb(var(--ig-highlight-background))","messenger-card-background":"rgb(var(--ig-primary-background))","mwp-message-list-actions-width":"96px","primary-text":"rgb(var(--ig-primary-text))"},type:"VARIABLES"};b=a;f["default"]=b}),66);
__d("IGDInboxActiveNowTrayConversionLoggingContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef,l=h.createContext({getProviderData:function(){return{}},setProviderData:function(a){}});function a(a){a=a.children;var b=k({}),c=i(function(a){b.current=a(b.current)},[]),d=i(function(){return b.current},[]),e=j(function(){return{getProviderData:d,setProviderData:c}},[d,c]);return h.jsx(l.Provider,{value:e,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.IGDInboxActiveNowTrayConversionLoggingContext=l;g.IGDInboxActiveNowTrayConversionLoggingContextProvider=a}),98);
__d("BadgeCheckmarkFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-98 -917)",children:h.jsx("path",{d:"m106.853 922.354-3.5 3.5a.499.499 0 0 1-.706 0l-1.5-1.5a.5.5 0 1 1 .706-.708l1.147 1.147 3.147-3.147a.5.5 0 1 1 .706.708m3.078 2.295-.589-1.149.588-1.15a.633.633 0 0 0-.219-.82l-1.085-.7-.065-1.287a.627.627 0 0 0-.6-.603l-1.29-.066-.703-1.087a.636.636 0 0 0-.82-.217l-1.148.588-1.15-.588a.631.631 0 0 0-.82.22l-.701 1.085-1.289.065a.626.626 0 0 0-.6.6l-.066 1.29-1.088.702a.634.634 0 0 0-.216.82l.588 1.149-.588 1.15a.632.632 0 0 0 .219.819l1.085.701.065 1.286c.014.33.274.59.6.604l1.29.065.703 1.088c.177.27.53.362.82.216l1.148-.588 1.15.589a.629.629 0 0 0 .82-.22l.701-1.085 1.286-.064a.627.627 0 0 0 .604-.601l.065-1.29 1.088-.703a.633.633 0 0 0 .216-.819"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometPageVerificationIcon.react",["fbt","BadgeCheckmarkFilled12.svg.react","TetraIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={verifiedIconContainer:{display:"x3nfvp2",verticalAlign:"x11njtxf",$$css:!0}};function a(a){var b=a.isInverted,d=a.size,e=a.verificationBadge;a=a.xstyle;var f=null,g=12,k=c("BadgeCheckmarkFilled12.svg.react"),l=h._("__JHASH__h4jHLzIOW6F__JHASH__");d==="large"&&(g=16);if(b===!0)f=i.jsx(c("TetraIcon.react"),{alt:l,color:"white",icon:k,size:g});else switch(e){case"BLUE_VERIFIED":f=i.jsx(c("TetraIcon.react"),{alt:l,color:"highlight",icon:k,size:g});break;case"GRAY_VERIFIED":f=i.jsx(c("TetraIcon.react"),{alt:l,color:"secondary",icon:k,size:g});break}return f!=null?i.jsx("span",{className:c("stylex")(a,j.verifiedIconContainer),children:f}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWTimedJob",["FBLogger","MAWMaybeWithTimeout","MAWUIJob","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4;a={fireAndForget:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.fireAndForget(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilPersisted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a)}),b,function(){throw c("FBLogger")("mpf_web_foundations").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)}};g.DEFAULT_TIMEOUT_MS=h;g.TimedUIJobStarters=a}),98);
__d("MAWMiActOnMiThreadReadyForChatIdDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnMiThreadReadyForChatId").__setRef("MAWMiActOnMiThreadReadyForChatIdDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onMiThreadReadyForChatId;return e(a,b,c,d)})}g["default"]=a}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2","MAWBridgeSendAndReceive","MAWDbChatId","MAWJidUtils","MAWJids","MAWJobDefinitions","MAWTimedJob","Promise","ReQL","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f){var g=d("I64").to_string(e);e=f!=null?b("Promise").resolve(f):a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2")(d("LSIntEnum").ofNumber(15),void 0,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC),c("LSFactory")(a))},"readwrite").then(function(a){return d("I64").to_string(a[0])});return e.then(function(e){return b("Promise").all([d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThread",{contactFbid:g,offlineThreadingId:e}).then(function(f){var g=f.chatId,h=f.created,i=f.jid;return a.runInTransaction(function(a){var f=d("I64").of_string(d("MAWJidUtils").threadIdForChatJid(i));return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(f)).then(function(j){if(j!=null)return b("Promise").resolve({chatId:d("MAWDbChatId").unsafeCoerceToChatId(d("I64").to_int32(j.clientThreadPk)),created:h,jid:i});if(e==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("offlineThreadingId cannot be null at this point");return a.table("mi_act_mapping_table").put({clientThreadPk:d("I64").of_int32(g),jid:f,serverThreadKey:d("I64").of_string(e)}).then(function(){return{chatId:g,created:h,jid:i}})})},"readwrite")}),d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"creating-1-1-thread",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set().add(d("MAWJids").toUserJid(g))}))])}).then(function(a){a=a[0];return a})}g.call=a}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){b=b.table("threads").index("clientThreadKey");b=d("ReQL").fromTableAscending(b);a=a[0];var f={contents:function(){}};f.contents=d("SortedAsyncIterable.bs").subscribe(b.getKeyRange(a),function(a,b){switch(b.TAG){case 0:case 1:break;case 2:return}a=b._0;if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){e(a);return f.contents()}})}g.onAuthoritativeThreadInsert=a}),98);
__d("MWPCreateOneToOneThreadThenNavigate",["I64","LSIntEnum","LSResult","MAWCreateOneToOneThread","MAWMiActOnMiThreadReadyForChatIdDeferred","MWV2OnAuthoritativeThreadInsert","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var e=c("useReStore")(),f=function(b,c,d){return a.openTabOrInbox({clientThreadKey:c,threadKey:b,threadType:d},"groupMembers")};return h(function(a){c("promiseDone")(d("MAWCreateOneToOneThread").call(e,a).then(function(a){return e.runInTransaction(function(g){return c("MAWMiActOnMiThreadReadyForChatIdDeferred")(g,a.chatId,"MWPCreateOneToOneThreadThenNavigate.bs",function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){if(g!=null)if(a.created)return d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(g),e,function(a){return f(a.threadKey,a.clientThreadKey,a.threadType)});else return f(g,d("I64").of_int32(a.chatId),d("LSIntEnum").ofNumber(15))});return function(a,b){return g.apply(this,arguments)}}())},"readwrite")}))},[e,a])}g.useHook=a}),98);
__d("LSContactGenderToGenderConst",["GenderConst","I64","LSContactGender","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactGender").FEMALE)))return c("GenderConst").FEMALE_SINGULAR;else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactGender").MALE)))return c("GenderConst").MALE_SINGULAR;else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSContactGender").NEUTER)))return c("GenderConst").NEUTER_SINGULAR;else return c("GenderConst").NOT_A_PERSON}g.make=a}),98);
__d("IGDBaseButton.react",["BaseButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;var i={root:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0},rootDisabled:{opacity:"xuzhngd",pointerEvents:"x47corl",$$css:!0}};function a(a,b){var d=a.children,e=a.disabled;a=a.onClick;return h.jsx(c("BaseButton.react"),{disabled:e,onClick:a,ref:b,xstyle:[i.root,e===!0&&i.rootDisabled],children:d})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("IGDInboxClickedThreadContextProvider",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useCallback,j=c.useContext,k=c.useMemo,l=c.useRef,m=e({getProviderData:function(){return{}},setProviderData:function(a){}});function a(){return j(m)}function b(a){a=a.children;var b=l({}),c=i(function(a){b.current=a},[]),d=i(function(){return b.current},[]),e=k(function(){return{getProviderData:d,setProviderData:c}},[d,c]);return h.jsx(m.Provider,{value:e,children:a})}b.displayName=b.name+" [from "+f.id+"]";g.useIGDInboxClickedThreadContext=a;g.IGDInboxClickedThreadContextProvider=b}),98);
__d("PolarisIGCoreArrowLeftPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"2.909",x2:"22.001",y1:"12.004",y2:"12.004"}),h.jsx("polyline",{fill:"none",points:"9.276 4.726 2.001 12.004 9.276 19.274",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDMobileNavigationButton.react",["fbt","IGDSIconButton.react","PolarisIGCoreArrowLeftPanoOutlineIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__hwSqxUAKe04__JHASH__"),k={root:{marginEnd:"xq8finb",$$css:!0}};function a(a){a=a.onClick;return i.jsx(c("IGDSIconButton.react"),{onClick:a,padding:0,xstyle:k.root,children:i.jsx(c("PolarisIGCoreArrowLeftPanoOutlineIcon"),{alt:j,color:"ig-primary-text",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("jsExtraRouteBuilder",["jsRouteBuilder","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){var f=c("jsRouteBuilder")(a,b,e),g=d.reduce(function(a,d){a===void 0&&(a={});typeof d==="string"&&(a[d]=c("jsRouteBuilder")(d,b,e,null,!0).buildURL);return a},{});return{buildExtraURL:function(a,b){if(typeof a!=="string"||g[a]==null)throw c("unrecoverableViolation")("Route builder for extra path does not exist","comet_infra");return g[a](b)},buildUri:function(a){return f.buildUri(a)},buildURL:function(a){return f.buildURL(a)}}}g["default"]=a}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);
__d("IGDNavigation",["I64","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxClickedThreadContextProvider","JSScheduler","LSMessagingThreadTypeUtil","XPolarisDirectInboxControllerRouteBuilder","XPolarisFeedControllerRouteBuilder","cr:3815","react","useGetStableCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useContext,i=f.useEffect,j=f.useMemo;function k(a){return c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:d("I64").to_string(a)})}function a(){var a=d("useGetStableCometRouterDispatcher").useGetStableCometRouterDispatcher(),e=b("cr:3815")==null?void 0:b("cr:3815").useHook(),f=h(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContext),g=d("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),i=f.setProviderData;return j(function(){var b=function(b,c){var f=b.threadKey;b=b.threadType;var h=c==="inboxActiveContacts";i(function(a){return{loggingData:a.loggingData,sentFromActiveNowTray:h}});g.setProviderData({clickedThreadId:f});var j=a();if(j==null)return;d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null&&e(f);j.go(k(f),{passthroughProps:{entryPoint:c}})},f=function(b){var c=a();if(c!=null)return c.go("/direct/inbox/",{onNavigate:b})},h=function(){var b=a();if(b!=null)return b.go("/direct/new/",{})},j=function(){var b=a();if(b!=null)return b.go("/direct/requests/",{})},l=function(){var b=a();if(b!=null)return b.go("/direct/requests/hidden/",{})},m=function(){var b=a();if(b!=null){var d=c("XPolarisFeedControllerRouteBuilder").buildURL({});b.go(d,{});return}};return{getUrlFromThreadKey:function(a,b){return k(a)},goToCreateNewThreadMobileRoute:h,goToFeed:m,goToNullState:f,openHiddenRequests:l,openInbox:b,openPendingInbox:j,openTabOrInbox:function(a,c){return b(a,c)}}},[i,g,a,e])}function e(a){var b=d("useGetStableCometRouterDispatcher").useGetStableCometRouterDispatcher();i(function(){var c=b();d("JSScheduler").scheduleSpeculativeCallback(function(){if(c!=null){c.prefetchRouteDefinition(k(a));return}})},[b,a])}g.useIGDNavigation=a;g.usePreloadRoute=e}),98);
__d("IGDSectionHeader.react",["IGDSectionHeaderLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,c=a.endAdornment,e=a.isMobile,f=a.noBottomBorder;f=f===void 0?!1:f;var g=a.startAdornment;a=a.xstyle;g=g!=null?h.jsx(d("IGDSectionHeaderLayout.react").StartAdornment,{children:g}):null;c=c!=null?h.jsx(d("IGDSectionHeaderLayout.react").EndAdornment,{children:c}):null;return h.jsxs(d("IGDSectionHeaderLayout.react").Container,{isMobile:e,noBottomBorder:f,xstyle:a,children:[g,b,c]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("DirectRequestsDeclineButtonConfirmFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineButtonConfirmFalcoEvent").__setRef("DirectRequestsDeclineButtonConfirmFalcoEventDeferred");function a(a){var b=a.all_used,c=a.e_counter_channel,d=a.is_interop,e=a.is_spam,f=a.is_unread,g=a.num_requests_visible,i=a.num_selected,j=a.thread_id;h.onReady(function(a){return a.log(function(){return{all_used:b,e_counter_channel:c,is_interop:d,is_spam:e,is_unread:f,num_requests_visible:g,num_selected:i,thread_id:j}})})}g.logDirectRequestsDeclineButtonConfirmFalcoEvent=a}),98);
__d("DirectRequestsThreadDeclineFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsThreadDeclineFalcoEvent").__setRef("DirectRequestsThreadDeclineFalcoEventDeferred");function a(a){var b=a.e_counter_channel,c=a.is_interop,d=a.is_unread;h.onReady(function(a){return a.log(function(){return{e_counter_channel:b,is_interop:c,is_unread:d}})})}g.logDirectRequestsThreadDeclineFalcoEvent=a}),98);
__d("IGDConfirmDeleteOpenMessageRequestLogger",["DirectRequestsDeclineButtonConfirmFalcoEventDeferred","I64","LSIntEnum","MWPIsThreadUnread.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("DirectRequestsDeclineButtonConfirmFalcoEventDeferred").logDirectRequestsDeclineButtonConfirmFalcoEvent({all_used:!1,e_counter_channel:"",is_interop:!1,is_spam:d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(-3)),is_unread:d("MWPIsThreadUnread.bs").isThreadUnread(a),num_requests_visible:"1",num_selected:"1",thread_id:d("I64").to_string(a.threadKey)})}g.logConfirmDeleteOpenMessageRequest=a}),98);
__d("IGDOpenDeleteOpenMessageRequestDialogLogger",["DirectRequestsThreadDeclineFalcoEventDeferred","MWPIsThreadUnread.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("DirectRequestsThreadDeclineFalcoEventDeferred").logDirectRequestsThreadDeclineFalcoEvent({e_counter_channel:"",is_interop:!1,is_unread:d("MWPIsThreadUnread.bs").isThreadUnread(a)})}g.logOpenDeleteOpenMessageRequestDialog=a}),98);
__d("useIGDDeleteOpenThread",["IGDBroadcastChannelQPL","IGDDeleteOpenThread","emptyFunction","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=c("useReStore")(),e=d("IGDBroadcastChannelQPL").useLogDeleteChannelFail(a.threadKey);return h(function(){c("promiseDone")(d("IGDDeleteOpenThread").deleteOpenThread(b,a),c("emptyFunction"),e)},[b,e,a])}g["default"]=a}),98);
__d("QPLCreateGroupThreadLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(832770470,"483"))}function b(){c("QPLUserFlow").start(c("qpl")._(832770470,"483"),{annotations:{bool:{isSecure:!0}}})}function d(){c("QPLUserFlow").endFailure(c("qpl")._(832770470,"483"),"create_group_fail",{annotations:{bool:{isSecure:!0}}})}function e(){c("QPLUserFlow").start(c("qpl")._(832770470,"483"),{annotations:{bool:{isSecure:!1}}})}function f(){c("QPLUserFlow").endFailure(c("qpl")._(832770470,"483"),"create_group_fail",{annotations:{bool:{isSecure:!1}}})}g.QPLEndSuccessCreateGroup=a;g.QPLStartCreateSecureGroup=b;g.QPLEndFailureCreateSecureGroup=d;g.QPLStartCreateOpenGroup=e;g.QPLEndFailureCreateOpenGroup=f}),98);
__d("MWPCreateThread.bs",["I64","LSAuthorityLevel","LSCreateGroupThreadWithAdminText","LSFactory","LSIntEnum","LSVec","Promise","ReQL.bs","SortedAsyncIterable.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(e,f,g){return a.runInTransaction(function(a){var b;return c("LSCreateGroupThreadWithAdminText")(c("LSVec").make(e),void 0,(b=f)!=null?b:void 0,(b=g)!=null?b:void 0,c("LSFactory")(a))},"readwrite").then(function(e){var f=e[0];return new(b("Promise"))(function(b,e){e=d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a.table("threads").index("clientThreadKey")),{hd:f,tl:0});var g={contents:function(){}},h=function(a){if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g.contents();return b(a)}};g.contents=d("SortedAsyncIterable.bs").subscribe(e,function(a,b){switch(b.TAG){case 0:case 1:return h(b._0);case 2:return}});c("promiseDone")(d("ReQL.bs").firstExn(e),h)})})},[a])}g.useHook=a}),98);
__d("useCreateOpenGroupThread",["I64","IGDNavigation","MWPCreateThread.bs","QPLCreateGroupThreadLogging","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var c=d("MWPCreateThread.bs").useHook(),e=d("IGDNavigation").useIGDNavigation();return h(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("QPLCreateGroupThreadLogging").QPLStartCreateOpenGroup();b=b.map(function(a){return d("I64").of_string(a)});try{b=(yield c(b));if(b){e.openInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},a);d("QPLCreateGroupThreadLogging").QPLEndSuccessCreateGroup();return b.threadKey}}catch(a){d("QPLCreateGroupThreadLogging").QPLEndFailureCreateOpenGroup()}return null});return function(a){return f.apply(this,arguments)}}(),[c,a,e])}g["default"]=a}),98);
__d("useCreateSecureOneToOneThread",["I64","IGDNavigation","MWPCreateOneToOneThreadThenNavigate","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("IGDNavigation").useIGDNavigation(),c=d("MWPCreateOneToOneThreadThenNavigate").useHook(a);return h(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("I64").of_string(a);yield c(a);return a});return function(b){return a.apply(this,arguments)}}(),[c])}g["default"]=a}),98);
__d("useFetchExistingThreadWithContactIds",["I64","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b){if(a.length!==b.length)return!1;var c=new Set(a);return b.every(function(a){return c.has(a)})}function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor();return h(function(c,e){var g=new Set(c.filter(function(a){return a!==b})),h=[].concat(Array.from(g),[d("I64").to_string(b)]);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).filter(function(a){return g.has(d("I64").to_string(a.contactId))}).map(function(a){return d("I64").to_string(a.threadKey)}).filter(function(b){b=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(a.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(d("I64").of_string(b)).map(function(a){return d("I64").to_string(a.contactId)}),f.id+":71");return i(h,b)}).map(function(b){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(d("I64").of_string(b)).filter(function(a){return d("I64").to_int32(a.threadType)===e}),f.id+":87")}))},[b,a])}g["default"]=a}),98);
__d("useOpenOrCreateGroupThread",["IGDNavigation","asyncToGeneratorRuntime","react","useCreateOpenGroupThread","useFetchExistingThreadWithContactIds"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var e=d("IGDNavigation").useIGDNavigation(),f=c("useFetchExistingThreadWithContactIds")(),g=c("useCreateOpenGroupThread")(a);return h(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield f(b,2));if(c){e.openInbox({clientThreadKey:c.clientThreadKey,threadKey:c.threadKey,threadType:c.threadType},a);return c.threadKey}return g(b)});return function(a){return c.apply(this,arguments)}}(),[g,a,f,e])}g["default"]=a}),98);
__d("useOpenOrCreateOpenOneToOneThread",["FBLogger","I64","IGDNavigation","LSFactory","LSVerifyThreadRowExists","Promise","asyncToGeneratorRuntime","react","requireDeferred","useCreateSecureOneToOneThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useOpenOrCreateOpenOneToOneThread");function a(a){var e=c("useReStore")(),f=d("IGDNavigation").useIGDNavigation(),g=c("useCreateSecureOneToOneThread")();return h(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h){var j=d("I64").of_string(h),k=(yield i.load());k=(yield k.verifyThreadCutover(b("Promise").resolve(e),j));if(k)return g(h);try{yield e.runInTransaction(function(a){return c("LSVerifyThreadRowExists")(j,d("I64").of_int32(1),d("I64").of_int32(1),c("LSFactory")(a))},"readwrite"),f.openInbox({clientThreadKey:j,threadKey:j,threadType:d("I64").of_int32(1)},a)}catch(a){c("FBLogger")("ig_web","create_one_to_one_thread").mustfix("Failed to create 1 to 1 open thread by verifying thread row exists.")}return j});return function(a){return h.apply(this,arguments)}}(),[g,e,a,f])}g["default"]=a}),98);
__d("useOpenOrCreateThreadFromIGDCandidate",["IGDAWContactSearchConversionUtils","asyncToGeneratorRuntime","react","useOpenOrCreateGroupThread","useOpenOrCreateOpenOneToOneThread"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useOpenOrCreateOpenOneToOneThread")("inboxNewMessage"),e=c("useOpenOrCreateGroupThread")("inboxNewMessage");return h(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){if(b.size<=0)return;b=d("IGDAWContactSearchConversionUtils").getIGDUserCandidateContactIds(b);b.length>1?yield e(b):b.length===1&&(yield a(b[0]))});return function(a){return c.apply(this,arguments)}}(),[e,a])}g["default"]=a}),98);
__d("useStableCallback",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useLayoutEffect,j=b.useRef;function a(a){var b=j(a);i(function(){b.current=a},[a]);return h(function(){return b.current.apply(b,arguments)},[])}g["default"]=a}),98);
__d("MWVerticalRhythm",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.height;return h.jsx("div",{style:{height:String(a)+"px"}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSEmojiSetsType",[],(function(a,b,c,d,e,f){a=Object.freeze({USER_GENERATED:0,RECENTLY_USED:1});f["default"]=a}),66);
__d("MWChatMessengerReactionsUtils.bs",["EmojiFormat.bs","I64","LSEmojiSetsType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";b=[{categoryIdx:d("I64").of_string("6"),emoji:"\u2764",emojiIdx:d("I64").zero,sortKey:d("I64").zero,type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude06",emojiIdx:d("I64").of_string("4"),sortKey:d("I64").one,type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude2e",emojiIdx:d("I64").of_string("83"),sortKey:d("I64").of_string("2"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude22",emojiIdx:d("I64").of_string("48"),sortKey:d("I64").of_string("3"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\ude20",emojiIdx:d("I64").of_string("51"),sortKey:d("I64").of_string("4"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\udc4d",emojiIdx:d("I64").of_string("130"),sortKey:d("I64").of_string("5"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:d("I64").zero,emoji:"\ud83d\udc4e",emojiIdx:d("I64").of_string("131"),sortKey:d("I64").of_string("6"),type_:d("LSIntEnum").ofNumber(c("LSEmojiSetsType").USER_GENERATED)}];e=b.slice(0,6);var h=d("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),i=d("EmojiFormat.bs").codeArrayToUnicode([10084]);function a(a){if(a===h)return!0;else return a===i}f=6;g.defaultStaticReactions=b;g.defaultCustomizableReactions=e;g.heartType1=h;g.heartType2=i;g.isHeart=a;g.cUSTOM_REACTIONS_NUM=f}),98);
__d("MWChatReactionsUtils.bs",["cr:595"],(function(a,b,c,d,e,f,g){"use strict";g.cUSTOM_REACTIONS_NUM=(a=b("cr:595")).cUSTOM_REACTIONS_NUM;g.defaultStaticReactions=a.defaultStaticReactions;g.defaultCustomizableReactions=a.defaultCustomizableReactions;g.heartType1=a.heartType1;g.heartType2=a.heartType2;g.isHeart=a.isHeart}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),b);if(b===!0)if(e!=null)return h.jsx("span",{className:"xurb0ha",children:e});else if(a!=null)return h.jsx("span",{className:"xurb0ha",children:h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSDefaultThreadSource",["LSMessagingSource","LSThreadAttributionTypeUtil.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("LSMessagingSource").useHook();return h(function(b){return d("LSThreadAttributionTypeUtil.bs").getSource(b,a)},[a])}g.useHook=a}),98);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","err","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=new Set(),h=[],i=0,j=!0,k,l,m=new(b("Promise"))(function(a,b){k=a,l=b}),n=c("uuidv4")(),o=!0,p=(yield a.runInTransaction(function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(m){yield m.table("mailbox_task_completion_notification_context").add({notificationName:f,notificationScopeKey:n});var q=a.table("pending_tasks").subscribe(function(a,b){a=d("I64").to_string(a.hd);b.operation==="add"||b.operation==="put"?g.add(a):g["delete"](a)}),r=c("emptyFunction"),s=a.table("mailbox_task_completion_api_tasks").subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===n){a=d("I64").to_string(b.value.taskId);g["delete"](a);b=b.value.success;b==null?o&&(h.push(a),i+=1):(j=b&&j,i-=1)}});r=a.subscribeToCommit(function(){i===0&&g.size===0&&(s(),q(),r(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of h)yield a.table("mailbox_task_completion_api_tasks")["delete"](d("ReQL").key(d("I64").of_string(b)))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background")),j?k(p):l(c("err")("Not all tasks for "+f+" succeeded")))});try{var t=(yield e(m));yield m.table("mailbox_task_completion_notification_context")["delete"]({hd:n,tl:0});return t}catch(a){r();s();q();throw a}});return function(a){return m.apply(this,arguments)}}(),"readwrite"));o=!1;return m});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MWLSDatabaseLazySync.bs",["I64","Int64Hooks","LSFactory","LSForceImmediateSync","LSSyncGroupsUtils","Promise","ReQL.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){return a.runInTransaction(function(a){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("sync_groups")),{hd:e,tl:0})).then(function(f){if(f!=null)if(d("I64").equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSync")(e,c("LSFactory")(a));else return b("Promise").resolve();else return b("Promise").resolve()})},"readwrite")}function a(a){var b=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){return h(b,a)},[a,b])}g.sync=h;g.useSync=a}),98);
__d("IGDProLogging",["ODS","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function i(){return c("QPLUserFlow").getActiveFlowIDs().includes(832772100)}function a(){i()||(h=Date.now(),c("QPLUserFlow").start(c("qpl")._(832772100,"855"),{instanceKey:h}))}function b(){i()&&c("QPLUserFlow").endSuccess(c("qpl")._(832772100,"855"),{instanceKey:h})}function j(a,b){d("ODS").bumpEntityKey(5506,a,b)}function e(){j("threadList","igd_pro_web.client.load_threads.primary")}function f(){j("threadList","igd_pro_web.client.load_threads.general")}function k(){j("threadInfo","igd_pro_web.client.move_thread.primary")}function l(){j("threadInfo","igd_pro_web.client.move_thread.general")}function m(){j("threadInfo","igd_pro_web.client.accept_thread.primary")}function n(){j("threadInfo","igd_pro_web.client.accept_thread.general")}g.QPLStart=a;g.QPLEndSuccess=b;g.ODSBumpLoadThreadsPrimary=e;g.ODSBumpLoadThreadsGeneral=f;g.ODSBumpMoveThreadPrimary=k;g.ODSBumpMoveThreadGeneral=l;g.ODSBumpAcceptRequestPrimary=m;g.ODSBumpAcceptRequestGeneral=n}),98);
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs",["Int64Hooks","ReQL.bs","ReQLSubscription.bs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts")))},[b,a.threadKey]),"xqz7ql3u")}g.useValue=a}),98);
__d("IGDListCellSelectedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(!1);function a(a){var b=a.children;a=a.selected;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.IGDListCellSelectedContextProvider=a;g.useIsListCellSelected=b}),98);
__d("IGDListCell.react",["BaseListCell.react","CometPressable.react","IGDListCellSelectedContext.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;var i={addOnContainer:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},addOnEndContainerPadding:{paddingStart:"x1ye3gou",$$css:!0},addOnStartContainerPadding:{paddingEnd:"xn6708d",$$css:!0},disabled:{opacity:"xbyyjgo",$$css:!0},pressable:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",display:"x1lliihq",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",":active_backgroundColor":"xg6hnt2",":focus_backgroundColor":"x18wri0h",$$css:!0},pressableHover:{":hover_backgroundColor":"x1l895ks",$$css:!0},pressableSelected:{backgroundColor:"x19g9edo",":active_backgroundColor":"xmoo3j9",":focus_backgroundColor":"x1e9wozp",$$css:!0},pressableSelectedHover:{":hover_backgroundColor":"xoo1adm",$$css:!0}},j={large:{paddingStart:"xbbxn1n",paddingEnd:"xxbr6pl",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},small:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function a(a,b){var d=a.addOnEnd,e=a.addOnStart,f=a.addOnStartVerticalAlign,g=a.content,j=a.disabled,l=a.hoverStateVisible;l=l===void 0?!0:l;var m=a.linkProps,n=a.noopOnPressWhenSelected,o=a.onHoverIn,p=a.onHoverOut,q=a.onPress,r=a.role,s=a.selected,t=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","addOnStart","addOnStartVerticalAlign","content","disabled","hoverStateVisible","linkProps","noopOnPressWhenSelected","onHoverIn","onHoverOut","onPress","role","selected","size"]);var u=d||g,v=e||g;return h.jsx(k,{disabled:j,hoverStateVisible:l,linkProps:m,noopOnPressWhenSelected:n,onHoverIn:o,onHoverOut:p,onPress:q,ref:b,role:r,selected:s,size:t,children:h.jsx(c("BaseListCell.react"),babelHelpers["extends"]({addOnEnd:d!=null?h.jsx("div",{className:c("stylex")([i.addOnContainer,v&&i.addOnEndContainerPadding]),children:d}):void 0,addOnStart:e!=null?h.jsx("div",{className:c("stylex")([i.addOnContainer,u&&i.addOnStartContainerPadding]),children:e}):void 0,addOnStartVerticalAlign:f,content:g},a))})}a.displayName=a.name+" [from "+f.id+"]";var k=b(function(a,b){var e=a.children,f=a.disabled,g=a.hoverStateVisible,k=a.linkProps,l=a.noopOnPressWhenSelected,m=a.onHoverIn,n=a.onHoverOut,o=a.onPress,p=a.role,q=a.selected;a=a.size;a=j[a];var r=[i.pressable,g===!0&&i.pressableHover],s=d("IGDListCellSelectedContext.react").useIsListCellSelected();q=Boolean(q)||s;s=[q&&[i.pressableSelected,g===!0&&i.pressableSelectedHover]];return h.jsx(c("CometPressable.react"),{disabled:f===!0,linkProps:k,onHoverIn:m,onHoverOut:n,onPress:Boolean(l)&&q?c("emptyFunction"):o,overlayDisabled:!0,ref:b,role:p,xstyle:[].concat(r,[a],s,[f===!0&&i.disabled]),children:e})});e=h.forwardRef(a);g["default"]=e}),98);
__d("IGDSAvatar.react",["CometPressable.react","IGDSConstants","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",cursor:"x1ypdohk",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},container:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6","::after_borderTopColor":"xzfakq","::after_borderEndColor":"x7imw91","::after_borderBottomColor":"x1j8hi7x","::after_borderStartColor":"x5aw536","::after_borderTopStartRadius":"x194ut8o","::after_borderTopEndRadius":"x1vzenxt","::after_borderBottomEndRadius":"xd7ygy7","::after_borderBottomStartRadius":"xt298gk","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"xoiy6we","::after_borderEndWidth":"x15xhmf9","::after_borderBottomWidth":"x1qj619r","::after_borderStartWidth":"x15tem40","::after_bottom":"x1xrz1ek","::after_content":"x1s928wv","::after_end":"x1n449xj","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x162n7g1","::after_top":"x1m1drc7",$$css:!0},root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function j(a){var b=a.children,d=a.href,e=a.onClick,f=a.role,g=a.size,j=a.target;a=a.xstyle;return h.jsx(c("CometPressable.react"),{linkProps:d!=null?{target:j,url:d}:void 0,onPress:e,overlayDisabled:!0,role:f,style:{height:c("IGDSConstants").AVATAR_SIZES[g],width:c("IGDSConstants").AVATAR_SIZES[g]},xstyle:[i.button,i.container,a],children:b})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.alt,d=a.href,e=a.onClick,f=a.role,g=a.size;g=g===void 0?"medium":g;var k=a.src,l=a.target;a=a.xstyle;var m=!c("isStringNullOrEmpty")(k);return d!=null||e?h.jsx(j,{href:d,onClick:e,role:f,size:g,target:l,xstyle:a,children:m?h.jsx("img",{alt:b,className:"x5yr21d xh8yej3",height:c("IGDSConstants").AVATAR_SIZES[g],src:k,width:c("IGDSConstants").AVATAR_SIZES[g]}):null}):h.jsx("span",{className:c("stylex")(i.container,a),style:{height:c("IGDSConstants").AVATAR_SIZES[g],width:c("IGDSConstants").AVATAR_SIZES[g]},children:m?h.jsx("img",{alt:b,className:"x5yr21d xh8yej3",height:c("IGDSConstants").AVATAR_SIZES[g],src:k,width:c("IGDSConstants").AVATAR_SIZES[g]}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getBreadcrumbTitleFromRouteState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){d===void 0&&(d=!1);if(!b)return a;var e=b.hosted,f=b.main;b=b.pushViewStack;c=(c=c)!=null?c:" | ";var g=[];if(b!=null&&b.length>0){b=b[b.length-1];b=(b=b.route.meta)==null?void 0:b.title;b!=null&&g.push(b)}else{if(e!=null){e=(b=e.route.meta)==null?void 0:b.title;e!=null&&g.push(e)}e=(b=f.route.meta)==null?void 0:b.title;e!=null&&g.push(e);e=(b=f.route.meta)==null?void 0:b.accessory;e!=null&&g.push(e)}(!d||g.length===0)&&g.push(a);f=new Set(g);return f.size!==g.length?a:g.join(c)}f["default"]=a}),66);
__d("useCometMetaManagerRouteFavicon",["ExecutionEnvironment","react","recoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b,d=c("useCometRouterState")(),e=(b=d==null?void 0:(b=d.hosted)==null?void 0:(b=b.route.meta)==null?void 0:b.favicon)!=null?b:d==null?void 0:(b=d.main.route.meta)==null?void 0:b.favicon,f=i(null);h(function(){if(!c("ExecutionEnvironment").canUseDOM)return;f.current==null&&(f.current=document.querySelector('link[rel*=icon][href*=".ico"]'));var b=f.current;if(b!=null&&b instanceof HTMLLinkElement){var d=b.dataset,g=d.badgedIcon;d=d.defaultIcon;a&&(g==null||d==null)&&c("recoverableViolation")("Unable to update favicon. icon href was not found on the favicon element, please set data-default-icon and data-badged-icon attributes.","comet_ui");d=e?e["default"]:d;g=e?e.badged:g;g=a&&g!=null?g:d;b.href!==g&&g!=null&&(b.href=g)}},[e,a])}g["default"]=a}),98);
__d("useDocumentTitleBlinkEffect",["ExecutionEnvironment","clearInterval","react","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=1500;function a(a){var b=a.blinkingTitle,d=a.routeTitle;h(function(){if(!c("ExecutionEnvironment").canUseDOM)return;if(b==null||b===""){document.title!==d&&(document.title=d);return}var a=c("setInterval")(function(){document.title===d?document.title=b:document.title=d},i);return function(){c("clearInterval")(a),document.title=d}},[b,d])}g["default"]=a}),98);
__d("CometRouterMetaManager",["getBreadcrumbTitleFromRouteState","useCometMetaManagerRouteFavicon","useCometRouterState","useDocumentTitleBlinkEffect"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.appTitle,d=a.badgeConfig,e=a.blinkingTitle,f=a.customBreadcrumbTitleSeparator;f=f===void 0?null:f;var g=a.onlyShowAppTitleIfNoTitle;g=g===void 0?!1:g;a=a.shouldBadgeFavicon;a=a===void 0?!1:a;var i=c("useCometRouterState")();b=c("getBreadcrumbTitleFromRouteState")(b,i,f,g);i=d?h({badgeConfig:d,title:b}):b;c("useDocumentTitleBlinkEffect")({blinkingTitle:e,routeTitle:i});c("useCometMetaManagerRouteFavicon")(a);return null}function h(a){var b=a.badgeConfig,c=b.badgeCount;b=b.badgeCountLimit;a=a.title;b=c>b?"("+b+"+) ":c>0?"("+c+") ":"";return""+b+a}g["default"]=a}),98);
__d("PolarisDirectInboxMetaManager.react",["CometErrorBoundary.react","CometRouterMetaManager","IGDUnreadBadgeCountUpdates","PolarisTimeSpentNavigation","cr:3278","react","recoverableViolation","usePolarisDirectFeatures"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function j(a,b){var c=" \u2022 ";if(b==null||b==="")return a;else if(a!=="")return""+b.toString()+c+a.toString();return b}function k(a){a=a.title;var d=c("IGDUnreadBadgeCountUpdates")(),e=c("usePolarisDirectFeatures")();e=e.directTitle;e=j(e,a);a=b("cr:3278");a=a?a:function(){return void 0};a=a();return h.jsx(c("CometRouterMetaManager"),{appTitle:String(e),badgeConfig:{badgeCount:d,badgeCountLimit:9},blinkingTitle:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){c("recoverableViolation")("Error in messenger route","messenger_web_product",{error:a})}function a(a){var b=a.id;a=a.title;i(function(){d("PolarisTimeSpentNavigation").setPage(b)},[b]);return h.jsx(c("CometErrorBoundary.react"),{onError:l,children:h.jsx(k,{title:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getFBTSafeGenderFromGenderConst",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("GenderConst").MALE_SINGULAR:return c("IntlVariations").GENDER_MALE;case c("GenderConst").FEMALE_SINGULAR:return c("IntlVariations").GENDER_FEMALE;default:return c("IntlVariations").GENDER_UNKNOWN}}g["default"]=a}),98);
__d("XInstagramHelpDotComContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[],force_new_ighc:!1}),void 0);b=a;g["default"]=b}),98);
__d("LSWhatsAppConnectStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({WHATSAPP_NOT_ADDRESSABLE:0,WHATSAPP_ADDRESSABLE:1,WHATSAPP_DUAL_SEND_ELIGIBLE:2,WHATSAPP_DUAL_SEND_WEB_ELIGIBLE:3,WHATSAPP_DUAL_SEND_XAPP_ELIGIBLE:4,WHATSAPP_DST_ELIGIBLE:5,WHATSAPP_GDST_ELIGIBLE:9,WHATSAPP_DST_GDST_ELIGIBLE:13,WHATSAPP_DSI_ELIGIBLE:17,WHATSAPP_DST_DSI_ELIGIBLE:21,WHATSAPP_GDST_DSI_ELIGIBLE:25,WHATSAPP_DST_GDST_DSI_ELIGIBLE:29,WHATSAPP_DST_REAL_TEXT_SHADOW_ELIGIBLE:33});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5728355667179018"}),null);
__d("MAWShareAttachment_LinkPreviewQuery.graphql",["MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWShareAttachment_LinkPreviewQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWShareAttachment_LinkPreviewQuery",selections:c},params:{id:b("MAWShareAttachment_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWShareAttachment_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("BillingFormWrapper.react",["react","useBillingWizardComponents"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alignSelf,d=a.children,e=a.expanding;e=e===void 0?!1:e;var f=a.fieldSize;f=f===void 0?12:f;var g=a.marginBottom;g=g===void 0?0:g;a=a.mobileFieldSize;a=a===void 0?12:a;var i=c("useBillingWizardComponents")(),j=i.Column;i=i.Row;return h.jsx(j,{alignSelf:b,expanding:e,fieldSize:f,mobileFieldSize:a,children:h.jsx(i,{marginBottom:g,children:h.jsx(j,{fieldSize:12,mobileFieldSize:12,children:d})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BillingSelectInput.react",["BillingFormWrapper.react","CometFormSelectOnlyCombobox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.error,e=a.helperText,f=a.isDisabled,g=a.label,i=a.onValueChange,j=a.options,k=a.testid;k=a.validationState;var l=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["error","helperText","isDisabled","label","onValueChange","options","testid","validationState","value"]);return h.jsx(c("BillingFormWrapper.react"),babelHelpers["extends"]({},a,{children:h.jsx(c("CometFormSelectOnlyCombobox.react"),{disabled:f,helperText:(a=d)!=null?a:e,label:g,onValueChange:i,options:j,size:"full",testid:void 0,truncate:!0,validationState:k,value:l})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("MAWImagePreProcess",["MAWImageUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function e(e,f){var g=a.URL.createObjectURL(e),h=e.name;return d("MAWImageUtils").urlToFile(g,f).then(function(a){a=a.blob;return new File([a],h,{type:f})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function f(e){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToFile(e,d("MAWImageUtils").TYPE_JPEG).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function h(e,f){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToThumbnail(e,f)["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}g.imageTranscode=e;g.getImageSpec=f;g.getJpegThumbnailInfo=h}),98);
__d("IGDAWShareAttachmentUtils",["MAWImagePreProcess","PolarisLinkBuilder","PolarisPostShareUtils","WAArmadilloXMA.pb","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;b=(b=a.sidecarChildren)!=null?b:[];c=(c=a.isVideo)!=null?c:!1;a=(a=a.productType)!=null?a:"";if(a==="story")return c?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE;if(c)return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE;return b.length>1?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE}function c(a){var b;b=(b=a.productType)!=null?b:"";if(b==="story")return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT;a=(b=a.isVideo)!=null?b:!1;return a?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.PORTRAIT:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE.SINGLE}function e(a){return a.productType==="story"&&a.ownerId!=null?d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildDirectUserStoryLink(a.id+"_"+a.ownerId):d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils").getShareURL(a)}function f(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null)return null;var b=(yield d("MAWImagePreProcess").getImageSpec(a));return{file:a,height:b.height,width:b.width}});return h.apply(this,arguments)}g.getXMAType=a;g.getXMALayoutType=c;g.generateNativeURL=e;g.getImageFileArgs=f}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a,b,c,d)})}g["default"]=a}),98);
__d("MAWCreateOneToOneThreadWithStringFBID",["I64","MAWCreateOneToOneThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("I64").of_string(b);return d("MAWCreateOneToOneThread").call(a,b)}g.call=a}),98);
__d("MAWGetEphemeralSettings.bs",["MAWBridgeSendAndReceive","Promise","WAJids","WALogger","cr:7035","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);h=function(){return a};return a}function a(a){return c("qex")._("1516")===!0&&d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(e){d("WALogger").LOG(h(),a,e);if(e!=null){b("cr:7035")!=null&&c("promiseDone")(b("cr:7035").updateEphemeralSettingsByChatJid(e.ephemeralExpirationInSec,e.ephemeralLastUpdatedOrSetTimestamp,a,!0));return e}return void 0}):b("Promise").resolve()}g.getEphemeralSetting=a}),98);
__d("MAWInformTreatmentTypeTransform",["WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"MEDIA_LABEL":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL;case"POST_COVER":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_COVER;case"POST_LABEL":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL;case"WARNING_SCREENS":return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING_SCREENS;default:return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE}}g["default"]=a}),98);
__d("MAWShareAttachment",["fbt","CometRelay","ConstUriUtils","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWCreateOneToOneThreadWithStringFBID","MAWExternalId","MAWGetEphemeralSettings.bs","MAWImagePreProcess","MAWInformTreatmentTypeTransform","MAWJids","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWShareAttachment_LinkPreviewQuery.graphql","MAWTimedJob","MWQPLMarkers","Promise","QPLUserFlow","ReQL","ReQLSuspense","WAArmadilloXMA.pb","WAJids","WAJobOrchestratorTypes","asyncToGeneratorRuntime","err","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSDatabaseSingleton")),e=d("I64").of_string(a.targetID);return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("MAWJids").toUserJid(d("I64").to_string(a.contactId))}),f.id+":73")});return k.apply(this,arguments)}function l(a){return!Boolean(a)?b("Promise").resolve():window.fetch(a).then(function(a){return a.blob()})["catch"](function(){c("FBLogger")("messenger_e2ee_web").mustfix("Error fetching url in xma share");return b("Promise").resolve()})}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_BEGIN);e=d("ConstUriUtils").getUri(e);if(e==null)return{};e=(e=e.setSubDomain("www"))==null?void 0:e.toString();if(e==null)return{};f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_QUERY_BEGIN);a=(yield d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWShareAttachment_LinkPreviewQuery.graphql"),{url:e}).toPromise()["catch"](function(a){g(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_QUERY_DATA_FOR_XMA_SHARE,{}),c("FBLogger")("messenger_e2ee_web").mustfix("Failed execute MAWShareAttachment_LinkPreviewQuery for MAWShareAttachent")}));f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_QUERY_COMPLETE);a=a==null?void 0:a.post_reshare_xma;if(a==null){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.MISSING_XMA_DATA);return{}}if(a==="private"){var j=new Blob([],{type:"image/jpeg"});f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.RETURN_PRIVATE_XMA_DATA);return{defaultCTA:{actionUrl:e,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:e,title:h._("__JHASH__Xv8OyXI6-mU__JHASH__").toString()},overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:j}}var k;try{k=JSON.parse(a)}catch(a){g(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_PARSE_JSON_FOR_XMA_SHARE,{});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch blob xma data for MAWShareAttachent")}j=k;a=j.action_url;var m=j.ctas,n=j.default_cta_title,o=j.favicon_url,p=j.image_url,q=j.preview_url,r=j.subtitle_text;j=j.title_text;o=(yield b("Promise").all([o,p,q].map(function(a){return l(a)}))["catch"](function(a){f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_BLOB_FOR_XMA_SHARE);c("FBLogger")("messenger_e2ee_web").mustfix("Failed to fetch blob xma data for MAWShareAttachent");return[void 0,void 0,void 0]}));p=o[0];q=o[1];o=o[2];m=m;var s=m==null?void 0:m[0];a=(a=(a=a)!=null?a:s==null?void 0:s.action_url)!=null?a:e;e={actionUrl:a,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(e=s==null?void 0:s.native_url)!=null?e:a,title:(s=n)!=null?s:void 0};f(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.RETURN_PUBLIC_XMA_DATA);return{ctas:m==null?void 0:m.map(function(a){var b;return{actionUrl:(b=a.action_url)!=null?b:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(b=a.native_url)!=null?b:void 0,title:(b=a.title)!=null?b:void 0}}),defaultCTA:e,favicon_blob:(a=p)!=null?a:void 0,image_blob:(n=q)!=null?n:void 0,preview_blob:(s=o)!=null?s:void 0,subtitle_text:(m=r)!=null?m:void 0,title_text:(e=j)!=null?e:void 0}});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g,h,i,j,k,l,m){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i,j,k,l,m,n,o,p){a!=null&&(e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE),yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(a)})));a=(yield d("MAWGetEphemeralSettings.bs").getEphemeralSetting(f));e(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.CREATED_THREAD_FOR_XMA_SHARE);return f!=null?d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{ephemeralSetting:a==null?void 0:a,offlineAttachmentId:g.shareID,s2sInstanceKey:p,s2sUserFlowQPLEvent:c("qpl")._(25313175,"1551"),source:d("LSIntEnum").ofNumber((e=o)!=null?e:c("LSMessagingThreadAttributionType").UNKNOWN),xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},associatedMsgContent:(a=g.message)!=null?a:void 0,associatedMsgContentExternalId:g.message==null?void 0:d("MAWExternalId").generateExternalId(),chatJid:f,faviconFile:h,previewFile:i,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:{ctas:j,defaultCTA:k,overlayIconGlyph:(p=l)!=null?p:c("MAWInformTreatmentTypeTransform")((o=g.messagingInformTreatmentInfo)==null?void 0:o.treatmentType),overlayTitle:(a=(e=g.messagingInformTreatmentInfo)==null?void 0:e.messagingInformTreatmentName)!=null?a:void 0,subtitleText:(f=m)!=null?f:void 0,titleText:(h=n)!=null?h:void 0},xmaMsgExternalId:d("MAWExternalId").generateExternalId()})):b("Promise").resolve()});return p.apply(this,arguments)}function a(a,b,c,d,e){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){if(e.url===null)return;var i=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),a,{instanceKey:h})},k=function(a,b){b===void 0&&(b={}),c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),a,{annotations:b,instanceKey:h})};a=(yield m(a,(a=e.url)!=null?a:"",i,k));var l=a.ctas,n=a.defaultCTA,p=a.favicon_blob;a.image_blob;var q=a.overlayIconGlyph,r=a.preview_blob,s=a.subtitle_text,t=a.title_text;i(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_SUCCESS);a=r==null?void 0:new File([r],"preview",{type:r.type});r=p==null?void 0:new File([p],"favicon",{type:p.type});p=q===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?b("Promise").resolve({height:0,width:0}):a!=null?d("MAWImagePreProcess").getImageSpec(a):b("Promise").resolve();var u=r!=null?d("MAWImagePreProcess").getImageSpec(r):b("Promise").resolve();p=(yield b("Promise").all([p,u]));u=p[0];p=p[1];i(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_FAVICON_SPEC_READY);var v=a==null||u==null?void 0:{file:a,height:u.height,width:u.width},w=r==null||p==null?void 0:{file:r,height:p.height,width:p.width};if(v==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_DOES_NOT_EXIST);throw c("err")("Preview must exist in the XMA Send Path")}if(f!=null)if(f.isTargetE2E===!0){var x=d("I64").of_string_opt(e.targetID);if(x==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch threadKey for MAW XMA Attachment Share")}return c("LSDatabaseSingleton").then(function(a){return d("MAWMiActOnActThreadReady").onActThreadReady(a,x,"fetch-existing-chatJid",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,m){a=m;if(a==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE,{bool:{createNewThread:!1}});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch chatJid for MAW XMA Attachment Share")}f!=null&&f.typeName==="User"?b=[d("MAWJids").toUserJid(e.targetID)]:b=(yield j(e));return o(b,i,a,e,w,v,l,n,q,s,t,g,h)});return function(b,c,d){return a.apply(this,arguments)}}())})}else if(f.targetType==="USER")return c("LSDatabaseSingleton").then(function(a){return d("MAWCreateOneToOneThreadWithStringFBID").call(a,f.targetID)}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a==null?void 0:a.jid;if(a==null){k(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE,{bool:{createNewThread:!0}});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to fetch chatJid for MAW XMA Attachment Share")}var b=[d("WAJids").interpretAsUserJid(a)].filter(Boolean);i(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE);yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(b)}));return o(b,i,a,e,w,v,l,n,q,s,t,g,h)});return function(b){return a.apply(this,arguments)}}())});return q.apply(this,arguments)}g.fetchBlob=l;g.fetchXMAData=m;g.shareSecureAttachment=a}),98);
__d("IGDAWShareAttachment",["fbt","FBLogger","I64","IGDAWShareAttachmentUtils","LSDatabaseSingleton","MAWExternalId","MAWJids","MAWJobDefinitions","MAWMiActOnActThreadReadyDeferred","MAWShareAttachment","MAWTimedJob","MWQPLMarkers","Promise","QPLUserFlow","ReQL","WAArmadilloXMA.pb","WAJobOrchestratorTypes","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=3,j=h._("__JHASH__pGK09Wm4HSW__JHASH__").toString();function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSDatabaseSingleton"));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(d("I64").of_string(a)).map(function(a){return d("MAWJids").toUserJid(d("I64").to_string(a.contactId))}))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(c==null?void 0:c.isPrivate)!==!0&&a.viewerCanReshare===!0,f=c==null?void 0:c.username,g=d("IGDAWShareAttachmentUtils").generateNativeURL(babelHelpers["extends"]({},a,{ownerId:c==null?void 0:c.id}));g={buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:g};var h=(yield b("Promise").all([a.src,c==null?void 0:c.profilePictureUrl].map(function(a){return d("MAWShareAttachment").fetchBlob(a)}))),i=h[0];h=h[1];return!e?{defaultCTA:g,header_blob:h,header_title:f,overlayDescription:j,overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE}:{defaultCTA:g,header_blob:h,header_title:c==null?void 0:c.username,overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,preview_blob:i,title_text:a.caption}});return n.apply(this,arguments)}function a(a,b,c,d,e,f){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,j){var l=function(a){h!=null&&j!=null&&c("QPLUserFlow").addPoint(h,a,{instanceKey:j})};if(f.candidate.isE2EE==null)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Open thread candidate not allowed for IGDAW XMA Attachment Share");return c("MAWMiActOnActThreadReadyDeferred")(yield c("LSDatabaseSingleton"),d("I64").of_string(f.candidate.id),"IGDAWShareAttachment",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c,n,o){c=o;n=f.candidate.id;o=(yield m(a,e));var p=o.defaultCTA,q=o.header_blob,r=o.header_title,s=o.overlayDescription,t=o.overlayIconGlyph,u=o.preview_blob;o=o.title_text;l(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.XMA_DATA_FETCH_SUCCESS);u=u==null?void 0:new File([u],"preview",{type:u.type});q=q==null?void 0:new File([q],"header",{type:q.type});u=(yield b("Promise").all([d("IGDAWShareAttachmentUtils").getImageFileArgs(u),d("IGDAWShareAttachmentUtils").getImageFileArgs(q)]));q=u[0];u=u[1];l(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.PREVIEW_FAVICON_SPEC_READY);var v=a.expiringAt==null?void 0:d("WATimeUtils").castToUnixTime(a.expiringAt);l(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FETCHING_DEVICES_FOR_XMA_SHARE);n=(yield k(n));yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("getDevices",{ignoreDhash:!1,reason:"send-share-attachment",scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},users:new Set(n)}));return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendXMAShareMsg",{args:{s2sInstanceKey:j,s2sUserFlowQPLEvent:h,xmaMessageType:d("IGDAWShareAttachmentUtils").getXMAType(a)},associatedMsgContent:(n=g)!=null?n:void 0,associatedMsgContentExternalId:g==null?void 0:d("MAWExternalId").generateExternalId(),chatJid:c,headerFile:(n=u)!=null?n:void 0,previewFile:(c=q)!=null?c:void 0,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},xmaArgs:{defaultCTA:p,headerTitle:(u=r)!=null?u:void 0,maxTitleNumOfLines:i,overlayDescription:s,overlayIconGlyph:t,targetExpiringAtSec:v,targetId:a.id,targetUsername:e==null?void 0:e.username,titleText:(n=o)!=null?n:void 0,xmaLayoutType:d("IGDAWShareAttachmentUtils").getXMALayoutType(a)},xmaMsgExternalId:d("MAWExternalId").generateExternalId()}))});return function(a,b,d){return c.apply(this,arguments)}}())});return o.apply(this,arguments)}g.shareIGPostAsSecureAttachment=a}),98);
__d("PolarisCreateLocationRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisCreateLocationRoot.react").__setRef("PolarisCreateLocationRoot.entrypoint")};g["default"]=a}),98);
__d("IGDSecureShareSheetCommentTextInput.react",["IGDSBox.react","IGDSTextInput.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useImperativeHandle,k=b.useState,l={commentTextInput:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transition:"x13vyecm",$$css:!0},hiddenCommentTextInput:{height:"xqtp20y",visibility:"xlshs6z",$$css:!0},visibleCommentTextInput:{height:"x5kalc8",visibility:"xnpuxes",$$css:!0}};function a(a,b){a=a.isHidden;a=a===void 0?!1:a;var e=k(""),f=e[0],g=e[1];e=i(function(a){g(a.target.value)},[]);j(b,function(){return{getComment:function(){return f}}});return h.jsx(c("IGDSBox.react"),{children:h.jsx(c("IGDSTextInput.react"),{backgroundColor:"transparent",name:"shareCommentText",onChange:e,placeholder:d("PolarisDirectStrings").COMMENT_INPUT_PLACEHOLDER,style:"borderless",testid:void 0,value:f,xstyle:[l.commentTextInput,a?l.hiddenCommentTextInput:l.visibleCommentTextInput]})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("IGDSecureShareSheetUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];var f=babelHelpers["extends"]({},e);f.candidate.id=e.candidate.igid;b.set(e.candidate.igid,f)}return b}f.getIGDCandidatesWithIGIDs=a}),66);
__d("PolarisDirectActionSendPostToUsers",["PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisODS","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.comment,f=a.customToast,g=a.mediaId,i=a.mediaOverlayInfo,j=a.mqtt,k=a.onError,l=a.onSuccess,m=a.recipients;return function(a,n){var o=function(b){f!=null?f({text:b}):a(d("PolarisToastActions").showToast({text:b}))};m.forEach(function(f,m){var p;f.type==="user"?p=d("polarisDirectSelectors").getThreadIdForUserId(n(),m):f.type==="thread"&&(p=m);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE});p!=null?h(j,p,g,i).then(function(){l==null?void 0:l(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),c("PolarisODS").incr("web.share_sheet.send_post"),o(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();p!=null&&!c("isStringNullOrEmpty")(e)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(j,c("nullthrows")(p),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("PolarisODS").incr("web.share_sheet.send_post_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),o(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){k==null?void 0:k(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a),o(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)}):d("PolarisDirectAPI").createGroupThread([m]).then(function(n){var p=n.thread_id;a(d("PolarisDirectActionThreadLoaded").threadLoaded(n));h(j,p,g,i).then(function(){l==null?void 0:l(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),o(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();p!=null&&!c("isStringNullOrEmpty")(e)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(j,c("nullthrows")(p),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),o(d("PolarisDirectStrings").SENT_TOAST_TEXT)})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),o(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){k==null?void 0:k(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a)})},function(a){k==null?void 0:k(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_create_thread_send_post_to_users_failed",a),o(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})}}function h(a,c,d,e){return a!=null?a.sendMediaShare(c,d,e):b("Promise").reject(new Error("MQTT is not instantiated"))}g.sendPostToUsers=a}),98);
__d("PolarisInstagramAdDirectReshareSendFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_direct_reshare_send",a(),{},h)}};b=a;g["default"]=b}),98);
__d("useMaybeLogInstagramAdDirectReshareSend",["PolarisContainerModuleUtils","PolarisInstagramAdDirectReshareSendFalcoEvent","PolarisODS","PolarisViewpointActionUtils","polarisAdsSelectors","polarisRelationshipSelectors","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.id,e=a.mediaType,f=a.mpk,g=a.ownerId,i=c("usePolarisAnalyticsContext")(),j=d("polarisAdsSelectors").useFeedAdInfo(b,function(a){return a}),k=d("polarisRelationshipSelectors").useRelationship(g||"");return h(function(){if(j!=null&&j.ad_id!=null&&j.tracking_token!=null&&k!=null){var a=d("PolarisContainerModuleUtils").getContainerModule(i);c("PolarisODS").incr("web.ads.feed.share");c("PolarisInstagramAdDirectReshareSendFalcoEvent").log(function(){return{a_pk:g,ad_id:j.ad_id,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(k),m_pk:f,m_t:e,pigeon_reserved_keyword_module:a,source_of_action:a,tracking_token:j.tracking_token}})}},[j,i,e,f,g,k])}g["default"]=a}),98);
__d("useShareSheetSendPostToOpenRecipients",["PolarisDirectActionSendPostToUsers","PolarisReactRedux","useMaybeLogInstagramAdDirectReshareSend","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("usePolarisMQTT")(),g=d("PolarisReactRedux").useDispatch(),h=c("useMaybeLogInstagramAdDirectReshareSend")({id:a.id,mediaType:a.mediaType,mpk:a.mpk,ownerId:a.ownerId});return c("useStableCallback")(function(c,i){g(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:(i=i)!=null?i:void 0,mediaId:String(a.id),mediaOverlayInfo:a.mediaOverlayInfo,mqtt:f,onError:e,onSuccess:b,recipients:c}));h()})}g["default"]=a}),98);
__d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useRef,k=e(new Map());function a(a){a=a.children;var b=j(new Map());return h.jsx(k.Provider,{value:b.current,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.IGDSecureShareSheetS2SInstanceKeyContextProvider=a;g.useIGDSecureShareSheetS2SInstanceKeyContext=b}),98);
__d("useShareSheetSendPostToSecureRecipients",["IGDAWShareAttachment","IGDSecureShareSheetS2SInstanceKeyContextProvider.react","PolarisDirectStrings","PolarisReactRedux","PolarisToastActions","Promise","asyncToGeneratorRuntime","qpl","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g){var h=d("PolarisReactRedux").useDispatch(),i=d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext();return c("useStableCallback")(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j,k){j=Array.from(j.values()).map(function(b){var h=c("qpl")._(832770902,"1857"),j=i.get(b.candidate.id);return d("IGDAWShareAttachment").shareIGPostAsSecureAttachment(a,e,b,k,h,j).then(function(){return f==null?void 0:f(b.candidate.id)},function(a){return g==null?void 0:g(a,b.candidate.id)})});h(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").SENT_TOAST_TEXT}));yield b("Promise").allSettled(j)});return function(a,b){return j.apply(this,arguments)}}())}g["default"]=a}),98);
__d("useShareSheetSendStoryToOpenRecipients",["PolarisDirectActionShareStory","PolarisReactRedux","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("usePolarisMQTT")(),f=d("PolarisReactRedux").useDispatch();return c("useStableCallback")(function(c,g,h,i,j){var k="";g=g;g!=null&&(k=c+"_"+g);f(d("PolarisDirectActionShareStory").shareStory(e,i,h,k,j,a,b))})}g["default"]=a}),98);
__d("useShareSheetSendPostToRecipients",["IGDSecureShareSheetUtils","PolarisInteractionsLogger","PolarisViewpointActionUtils","asyncToGeneratorRuntime","react","useShareSheetSendPostToOpenRecipients","useShareSheetSendPostToSecureRecipients","useShareSheetSendStoryToOpenRecipients"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,e,f,g,i){var j;j=(j=d("PolarisViewpointActionUtils").getMPKForFeedMedia({id:a.id,owner:(j=e)!=null?j:void 0}))!=null?j:"";var k=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),l=c("useShareSheetSendStoryToOpenRecipients")(g,i),m=c("useShareSheetSendPostToOpenRecipients")({id:a.id,mediaOverlayInfo:a.mediaOverlayInfo,mediaType:k,mpk:j,ownerId:e==null?void 0:e.id},g,i),n=c("useShareSheetSendPostToSecureRecipients")(a,e,g,i);return h(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){var g=b.openRecipients;b=b.secureRecipients;if(g!=null){g=d("IGDSecureShareSheetUtils").getIGDCandidatesWithIGIDs(g);a.productType==="story"&&f!=null?l(a.id,e==null?void 0:e.id,f,g,c):m(g,c)}b!=null&&(yield n(b,c))});return function(a,b){return c.apply(this,arguments)}}(),[a,e,f,m,n,l])}g["default"]=a}),98);
__d("IGDSecureShareSheet.react",["FBLogger","IGDAWContactSearch.react","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSButton.react","IGDSDivider.react","IGDSecureShareSheetCommentTextInput.react","InteractionTracing","PolarisDirectActionInitInbox","PolarisDirectLogger","PolarisDirectStrings","PolarisReactRedux","PolarisToastActions","isStringNullOrEmpty","promiseDone","react","usePolarisAnalyticsContext","usePolarisMQTT","usePolarisSelector","useShareSheetSendPostToRecipients"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.onAddRecipient,e=a.onRemoveRecipient,f=a.onShareError,g=a.onShareSuccess,m=a.onSubmitClick,n=a.post;a=a.reelId;var o=c("usePolarisMQTT")();c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("is_mqtt_available",Boolean(o!=null))});var p=c("usePolarisAnalyticsContext")(),q=k(null),r=l(!1),s=r[0],t=r[1];r=l(new Map());var u=r[0];r=r[1];var v=d("PolarisReactRedux").useDispatch(),w=c("usePolarisSelector")(function(a){return a.direct.inboxLoaded});j(function(){w||v(d("PolarisDirectActionInitInbox").initInbox())},[v,w]);var x=c("useShareSheetSendPostToRecipients")(n,n.owner,a,g,f);n=i(function(){var a;t(!0);var b=new Map(),e=new Map(),f=[];u.forEach(function(a){a.candidate.isE2EE?(e.set(a.candidate.id,a),f.push(a.candidate.id)):c("isStringNullOrEmpty")(a.candidate.igid)||(b.set(a.candidate.igid,a),f.push(a.candidate.igid))});a=(a=q.current)==null?void 0:a.getComment();m==null?void 0:m(f,a);d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectShareSheet","share_sheet_send",{referral:p});c("promiseDone")(x({openRecipients:b,secureRecipients:e},a),function(){t(!1)},function(a){t(!1),c("FBLogger")("igd_web_on_msgr").mustfix("Error sharing attachment to users in sharesheet:"+a.message),v(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},[p,v,m,u,x]);a=u.size!==0;g=s||o==null;f=g||!a;return h.jsxs(c("IGDSBox.react"),{"data-testid":void 0,flex:"grow",children:[h.jsx(c("IGDSBox.react"),{flex:"grow",children:h.jsx(c("IGDAWContactSearch.react"),{includeGroupSearch:!0,maxRecipients:32,onAddRecipient:b,onRemoveRecipient:e,recipients:u,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,setRecipients:r})}),h.jsx(c("IGDSDivider.react"),{variant:"elevated"}),h.jsx(c("IGDSecureShareSheetCommentTextInput.react"),{isHidden:!a,ref:q}),h.jsx(c("IGDSBox.react"),{margin:4,marginTop:0,children:h.jsx(c("IGDSButton.react"),{"aria-disabled":f,"data-testid":void 0,fullWidth:!0,isDisabled:f,isLoading:g,label:u.size<2?d("PolarisDirectStrings").SEND_BUTTON_STRING:d("PolarisDirectStrings").SEND_SEPARATELY_BUTTON_STRING,onClick:n})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDSecureShareSheetS2SLogger",["IGDSecureShareSheetS2SInstanceKeyContextProvider.react","QPLUserFlow","Random","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").useIGDSecureShareSheetS2SInstanceKeyContext();return h(function(){return{markShareFail:function(b,d){var e=a.get(d);e!=null&&c("QPLUserFlow").endFailure(c("qpl")._(832770902,"1857"),b.name,{error:b,instanceKey:e});a["delete"](d)},markShareStart:function(b,e){for(var f=0;f<b.length;f++){var g,h=b[f],i=d("Random").uint32();a.set(h,i);c("QPLUserFlow").start(c("qpl")._(832770902,"1857"),{annotations:{string:{messageLength:(g=e.messageLength)==null?void 0:g.toString(),recipientID:h,shareType:e.shareType,source:e.source}},instanceKey:i})}},markShareSuccess:function(b){var d=a.get(b);d!=null&&c("QPLUserFlow").endSuccess(c("qpl")._(832770902,"1857"),{instanceKey:d});a["delete"](b)}}},[a])}g["default"]=a}),98);
__d("IGDSecureShareSheetContainer.react",["IGDContactSearchDialogType.flow","IGDSecureShareSheet.react","IGDSecureShareSheetS2SInstanceKeyContextProvider.react","QPLUserFlow","emptyFunction","qpl","react","useIGDSecureShareSheetInteractionLogger","useIGDSecureShareSheetS2SLogger","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.post,e=a.reelId,f=a.onClose,g=f===void 0?c("emptyFunction"):f;f=a.flowInstanceId;a=c("usePolarisAnalyticsContext")();var i=c("useIGDSecureShareSheetS2SLogger")(),j=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();if(!b.id)return null;var k={flowInstanceId:f,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:a};f=function(a,b){b===void 0&&(b="");b=babelHelpers["extends"]({},k,{messageLength:(b=b)==null?void 0:b.length,recipientIDs:a});i.markShareStart(a,b);j("igd_sharesheet_share_attempt",b);c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_sheet_send_click");g()};a=function(a){i.markShareSuccess(a),c("QPLUserFlow").endSuccess(c("qpl")._(379205139,"1723")),j("igd_sharesheet_share_success",babelHelpers["extends"]({},k,{recipientIDs:[a]}))};var l=function(a,b){i.markShareFail(a,b),c("QPLUserFlow").endFailure(c("qpl")._(379205139,"1723"),a.name),j("igd_sharesheet_share_error",babelHelpers["extends"]({},k,{recipientIDs:[b]}))},m=function(){j("igd_contact_search_add_recipient",k)},n=function(){j("igd_contact_search_remove_recipient",k)};return h.jsx(c("IGDSecureShareSheet.react"),{onAddRecipient:m,onRemoveRecipient:n,onShareError:l,onShareSuccess:a,onSubmitClick:f,post:b,reelId:e})}i.displayName=i.name+" [from "+f.id+"]";function a(a){return h.jsx(d("IGDSecureShareSheetS2SInstanceKeyContextProvider.react").IGDSecureShareSheetS2SInstanceKeyContextProvider,{children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSecureShareSheetDialog.react",["IGDContactSearchDialogType.flow","IGDSDialog.react","IGDSecureShareSheetContainer.react","IGDSecureShareSheetHeader.react","PolarisDirectStrings","QPLUserFlow","emptyFunction","qpl","react","useIGDSecureShareSheetInteractionLogger","useMatchMedia","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={dialogContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=a.post,e=a.reelId,f=a.onClose,g=f===void 0?c("emptyFunction"):f;f=a.flowInstanceId;a=c("useMatchMedia")("(max-width: 736px)");var j=c("usePolarisAnalyticsContext")(),k=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),l={flowInstanceId:f,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:j};j=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetImpressionRef({flowInstanceId:f,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:j},function(){c("QPLUserFlow").addPoint(c("qpl")._(379205139,"1723"),"share_modal_shown")});if(!b.id)return null;var m=function(){c("QPLUserFlow").endCancel(c("qpl")._(379205139,"1723")),k("igd_sharesheet_close",l),g()};return h.jsxs(c("IGDSDialog.react"),{enablePopInAnimation:!0,fixedHeight:!0,fixedWidth:!0,innerContentXStyle:i.dialogContainer,label:d("PolarisDirectStrings").SHARE_TITLE,onClose:m,ref:j,size:a?"fullscreen":"large",children:[h.jsx(c("IGDSecureShareSheetHeader.react"),{onCloseClick:m}),h.jsx(c("IGDSecureShareSheetContainer.react"),{flowInstanceId:f,onClose:g,post:b,reelId:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var g=b.done;b=b.value;return g?(g=[!0,!0,!1],d[3]=g[0],d[4]=g[1],d[5]=g[2],g):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(g=[!0,!1,!1],d[7]=g[0],d[8]=g[1],d[9]=g[2],g):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?f:d[12])===f||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(e=[!1,!1,!1],d[16]=e[0],d[17]=e[1],d[18]=e[2],e):(g=[!0,!1,!0],d[16]=g[0],d[17]=g[1],d[18]=g[2],g),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),e=[d[13],d[14],d[15]],d[7]=e[0],d[8]=e[1],d[9]=e[2],e),g=[d[7],d[8],d[9]],d[3]=g[0],d[4]=g[1],d[5]=g[2],g)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[11]=!1:(e=b.item,d[11]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[11]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([64,1083495711]),d[6]=c.i64.cast([0,0]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,8650752]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[8]:d[5],capabilities2:d[3]?d[9]:d[6],capabilities3:d[3]?d[10]:d[7],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[0],d[11]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[11])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[11],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.sp(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1,!1)},function(a){return c.resolve(d)}])}c=a;f["default"]=c}),66);
__d("IGDAWContactSearchConversionUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b;return{id:a.id,igid:(b=a.igid)!=null?b:"",imageUrl:a.imageUrl,isE2EE:a.isE2EE,secondaryImageUrl:a.secondaryImageUrl,subtext:a.subtext,threadName:a.displayName}}function h(a){var b;return{id:a.id,igid:(b=a.igid)!=null?b:"",imageUrl:a.imageUrl,isE2EE:a.isE2EE,isVerified:a.verificationStatus==="BLUE_VERIFIED",otherUserId:a.otherUserId,subtext:a.subtext,threadName:a.displayName}}function i(a,b){b.set(a.id,{candidate:a,type:"user"})}function j(a,b){b.set(a.id,{candidate:a,type:"thread"})}function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.rawData;switch(e.resultType){case"group":j(g(e),b);break;case"user":i(h(e),b);break}}return b}function b(a){a=Array.from(a.values()).filter(function(a){return a.type==="user"}).map(function(a){a=a.candidate;return a.isE2EE&&a.otherUserId!=null?a.otherUserId:a.id});return a}f.covertSearchResultRawDataToIGDThread=g;f.covertSearchResultRawDataToIGDUser=h;f.covertMWContactSearchResultsToIGDCandidates=a;f.getIGDUserCandidateContactIds=b}),66);
__d("IGDPresenceBadge.react",["fbt","CometScreenReaderText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={XXL:{borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",bottom:"x1ey2m1c",end:"xds687c",height:"xmix8c7",width:"x1xp8n7a",$$css:!0},badge:{backgroundColor:"x1wyv8x2",borderTopColor:"x1yhmmig",borderEndColor:"xeqyd3i",borderBottomColor:"xyb01ml",borderStartColor:"xdn568n",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",position:"x10l6tqk",$$css:!0},large:{borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",bottom:"x1ey2m1c",end:"xds687c",height:"x1kpxq89",width:"xsmyaan",$$css:!0},medium:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",end:"xds687c",height:"xegnrdp",width:"x1wc42o8",$$css:!0},micro:{borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",bottom:"x1ey2m1c",end:"xds687c",height:"xols6we",width:"x1v4s8kt",$$css:!0},small:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",end:"xds687c",height:"xols6we",width:"x1v4s8kt",$$css:!0},tiny:{borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",height:"xols6we",start:"x17qophe",width:"x1v4s8kt",$$css:!0}};function a(a){a=a.size;var b=j.large;switch(a){case"medium":b=j.medium;break;case"small":b=j.small;break;case"XXL":b=j.XXL;break;case"micro":b=j.micro;break;case"tiny":b=j.tiny;break}a=h._("__JHASH__7WBmbZY4H-Z__JHASH__");return i.jsx("div",{className:c("stylex")(j.badge,b),children:i.jsx(c("CometScreenReaderText.react"),{text:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDFacepile.react",["IGDPresenceBadge.react","IGDSAvatar.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{position:"x1n2onr6",$$css:!0},"default":{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",$$css:!0},frontAvatar:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",$$css:!0},small:{paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",$$css:!0}};function j(a,b){if(b==="medium"||b==="tiny")if(a)return["extraSmall","32px"];else return["small","44px"];else if(b==="XXL"&&!a)return["XLFacepile","96px"];else return["facepile","56px"]}function k(a,b){if(b==="medium"||b==="tiny")if(a)return"small";else return"medium";else if(b==="XXL")return"XXL";else return"large"}function a(a){var b=a.firstParticipantURI,d=a.isActive;d=d===void 0?!1:d;var e=a.isMobile;e=e===void 0?!1:e;var f=a.secondParticipantURI;a=a.size;var g=j(e,a),l=g[0];g=g[1];e=k(e,a);return h.jsxs("div",{className:"x1n2onr6",style:{height:g,width:g},children:[h.jsx(c("IGDSAvatar.react"),{alt:"",size:l,src:b}),h.jsx("div",{className:c("stylex")(i.frontAvatar,a==="medium"?i.small:i["default"]),children:h.jsx(c("IGDSAvatar.react"),{alt:"",size:l,src:f})}),d?h.jsx(c("IGDPresenceBadge.react"),{size:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSingleAvatar.react",["fbt","IGDPresenceBadge.react","IGDSAvatar.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){if(a)switch(b){case"micro":return["micro","14px"];case"tiny":return["tiny","24px"];case"medium":return["small","32px"];case"XXL":return["large","56px"];default:return["large","56px"]}else switch(b){case"micro":return["micro","14px"];case"medium":return["medium","44px"];case"XXL":return["XXL","96px"];default:return["large","56px"]}}function a(a){var b=a.isActive;b=b===void 0?!1:b;var d=a.isMobile;d=d===void 0?!1:d;var e=a.size;a=a.src;d=j(d,e);e=d[0];d=d[1];return i.jsxs("div",{className:"x1n2onr6",style:{height:d,width:d},children:[i.jsx(c("IGDSAvatar.react"),{alt:h._("__JHASH__dUhEqE8_wBl__JHASH__"),size:e,src:a}),b?i.jsx(c("IGDPresenceBadge.react"),{size:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDDeviceType",["IGDDeviceTypeProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(d("IGDDeviceTypeProvider.react").context)}g.useIGDDeviceType=a}),98);
__d("MWThreadKey.react",["Int64Hooks","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.useContext,l=j(void 0);function a(a){var b=a.children,e=a.id;a=k(l);var f=d("Int64Hooks").useMemoInt64(function(){return e},[e]);if(a!=null)throw c("unrecoverableViolation")("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");return h.jsx(l.Provider,{value:f,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(l)}function e(){var a=k(l);if(a!=null)return a;throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product")}g.MWThreadKeyProvider=a;g.useMWThreadKeyMemoized=b;g.useMWThreadKeyMemoizedExn=e}),98);
__d("useIsThreadBlocked",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)},[a,b],f.id+":30"),h=d("ReQLSuspense").useFirst(function(){return(g==null?void 0:g.threadKey)!=null&&(g==null?void 0:g.threadType)!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(g==null?void 0:g.threadType)?d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).filter(function(a){return!d("I64").equal(a.contactId,e)}).take(1),d("ReQL").fromTableAscending(a.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[a,b],f.id+":35");if(h!=null)return!d("I64").equal(h.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));else return!1}g["default"]=a}),98);
__d("LSFeatureLimitsType",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8});f["default"]=a}),66);
__d("MWPFeatureLimitedData.bs",["I64","LSFeatureLimitsType","LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").READ_ONLY),d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)];function i(a){for(var b=0;b<h.length;b++){var c=h[b];if(d("I64").equal(c,a.type_))return!0}return!1}var j=function(a){var b=d("I64").of_float(Date.now()/1e3);return d("ReQL").fromTableAscending(a.table("feature_limits")).filter(function(a){return i(a)&&d("I64").gt(a.expirationTimestampSeconds,b)})};function a(){var a=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return j(a)},[a],f.id+":66")}g.readonlyFeatureLimitQuery=j;g.useReadOnlyFeatureLimitData=a}),98);
__d("MWLSFeatureLimitedStatus.bs",["MWPFeatureLimitedData.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWPFeatureLimitedData.bs").useReadOnlyFeatureLimitData();if(a!=null)return c("gkx")("1908348");else return!1}g.useIsReadOnlyFeatureLimited=a}),98);
__d("IGDSReplyPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M14 8.999H4.413l5.294-5.292a1 1 0 1 0-1.414-1.414l-7 6.998c-.014.014-.019.033-.032.048A.933.933 0 0 0 1 9.998V10c0 .027.013.05.015.076a.907.907 0 0 0 .282.634l6.996 6.998a1 1 0 0 0 1.414-1.414L4.415 11H14a7.008 7.008 0 0 1 7 7v3.006a1 1 0 0 0 2 0V18a9.01 9.01 0 0 0-9-9Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisAPIRetrieveUserCallSettings",["PolarisInstapi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("PolarisInstapi").apiGet("/api/v1/video_call/retrieve_user_call_settings/"));return a.data});return h.apply(this,arguments)}g.retrieveUserCallSettings=a}),98);
__d("PolarisTargetedPortal.react",["immutable-4.0.0-rc.9","react","react-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=new(d("immutable-4.0.0-rc.9").Map)();c={addRef:function(){},map:i,removeRef:function(){}};e=h.createContext(c);var j=e.Consumer,k=e.Provider;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={map:i},c.$1=function(a,b){c.setState(function(c){return{map:c.map.update(a,new(d("immutable-4.0.0-rc.9").Set)(),function(a){return a.add(b)})}})},c.$2=function(a,b){c.setState(function(c){return{map:c.map.update(a,new(d("immutable-4.0.0-rc.9").Set)(),function(a){return a.remove(b)})}})},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){var a={addRef:this.$1,map:this.state.map,removeRef:this.$2};return h.jsx(k,{value:a,children:this.props.children})};return b}(h.Component);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$1=h.createRef(),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.componentDidMount=function(){this.props.__addRef(this.props.targetId,this.$1)};c.componentWillUnmount=function(){this.props.__removeRef(this.props.targetId,this.$1)};c.render=function(){var a=this.props;a.__addRef;a.__removeRef;var b=a.element;a.targetId;a=babelHelpers.objectWithoutPropertiesLoose(a,["__addRef","__removeRef","element","targetId"]);return h.jsx(b,babelHelpers["extends"]({ref:this.$1},a))};return a}(h.Component);function a(a){return h.jsx(j,{children:function(b){return h.createElement(l,babelHelpers["extends"]({},a,{__addRef:b.addRef,__removeRef:b.removeRef,key:a.targetId}))}})}a.displayName=a.name+" [from "+f.id+"]";a.defaultProps={element:"div"};function b(a){var b=a.children,c=a.targetId;return h.jsx(j,{children:function(a){a=a.map.get(c);return a?a.map(function(a){return a.current&&b!==void 0?d("react-dom").createPortal(b,a.current):null}).toArray():null}})}b.displayName=b.name+" [from "+f.id+"]";g.TargetedPortalProvider=c;g.PortalTarget=a;g.PortalTo=b}),98);
__d("EmojiRendererData",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}a.isEmoji=function(a){return a>983041||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8205||a===8252||a===8265||a===8419||a===8482||a===8505||a>=8596&&a<=8601||a>=8617&&a<=8618||a>=8986&&a<=8987||a===9e3||a===9167||a>=9193&&a<=9203||a>=9208&&a<=9210||a===9410||a>=9642&&a<=9643||a===9654||a===9664||a>=9723&&a<=9726||a>=9728&&a<=9732||a===9742||a===9745||a>=9748&&a<=9749||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9786||a===9792||a===9794||a>=9800&&a<=9811||a>=9823&&a<=9824||a===9827||a>=9829&&a<=9830||a===9832||a===9851||a>=9854&&a<=9855||a>=9874&&a<=9879||a===9881||a>=9883&&a<=9884||a>=9888&&a<=9889||a===9895||a>=9898&&a<=9899||a>=9904&&a<=9905||a>=9917&&a<=9918||a>=9924&&a<=9925||a===9928||a>=9934&&a<=9935||a===9937||a>=9939&&a<=9940||a>=9961&&a<=9962||a>=9968&&a<=9973||a>=9975&&a<=9976||a===9978||a===9981||a===9986||a===9989||a>=9992&&a<=9993||a===9999||a===10002||a===10004||a===10006||a===10013||a===10017||a===10024||a>=10035&&a<=10036||a===10052||a===10055||a===10060||a===10062||a>=10067&&a<=10069||a===10071||a>=10083&&a<=10084||a>=10133&&a<=10135||a===10145||a===10160||a===10175||a>=10548&&a<=10549||a>=11013&&a<=11015||a>=11035&&a<=11036||a===11088||a===11093||a===12336||a===12349||a===12951||a===12953||a===126980||a===127183||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127374||a>=127377&&a<=127386||a>=127462&&a<=127487||a>=127489&&a<=127490||a===127514||a===127535||a>=127538&&a<=127546||a>=127568&&a<=127569||a>=127744&&a<=127777||a>=127780&&a<=127876||a>=127878&&a<=127891||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127937||a>=127941&&a<=127942||a>=127944&&a<=127945||a>=127949&&a<=127984||a>=127987&&a<=127989||a>=127991&&a<=127994||a>=128e3&&a<=128065||a>=128068&&a<=128069||a>=128081&&a<=128101||a>=128121&&a<=128123||a>=128125&&a<=128128||a===128132||a>=128136&&a<=128142||a===128144||a>=128146&&a<=128169||a>=128171&&a<=128253||a>=128255&&a<=128317||a>=128329&&a<=128334||a>=128336&&a<=128359||a>=128367&&a<=128368||a===128371||a>=128374&&a<=128377||a===128391||a>=128394&&a<=128397||a>=128420&&a<=128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a>=128506&&a<=128580||a>=128584&&a<=128586||a>=128640&&a<=128674||a>=128676&&a<=128691||a>=128695&&a<=128703||a>=128705&&a<=128709||a===128715||a>=128717&&a<=128722||a>=128725&&a<=128727||a>=128733&&a<=128741||a===128745||a>=128747&&a<=128748||a===128752||a>=128755&&a<=128764||a>=128992&&a<=129003||a===129008||a>=129293&&a<=129294||a>=129296&&a<=129303||a>=129312&&a<=129317||a>=129319&&a<=129327||a===129338||a>=129343&&a<=129349||a>=129351&&a<=129398||a>=129400&&a<=129460||a===129463||a===129466||a>=129468&&a<=129484||a===129488||a>=129502&&a<=129535||a>=129648&&a<=129652||a>=129656&&a<=129660||a>=129664&&a<=129670||a>=129680&&a<=129708||a>=129712&&a<=129722||a>=129728&&a<=129730||a>=129744&&a<=129753||a>=129760&&a<=129767||a>=917536&&a<=917631||a>=983040&&a<=983041};a.isEmojiModifier=function(a){return a>127999||a<127995?!1:a>=127995&&a<=127999};a.isEmojiModifierBase=function(a){return a>129782||a<9757?!1:a===9757||a===9977||a>=9994&&a<=9997||a===127877||a>=127938&&a<=127940||a===127943||a>=127946&&a<=127948||a>=128066&&a<=128067||a>=128070&&a<=128080||a>=128102&&a<=128120||a===128124||a>=128129&&a<=128131||a>=128133&&a<=128135||a===128143||a===128145||a===128170||a>=128372&&a<=128373||a===128378||a===128400||a>=128405&&a<=128406||a>=128581&&a<=128583||a>=128587&&a<=128591||a===128675||a>=128692&&a<=128694||a===128704||a===128716||a===129292||a===129295||a>=129304&&a<=129311||a===129318||a>=129328&&a<=129337||a>=129340&&a<=129342||a===129399||a>=129461&&a<=129462||a>=129464&&a<=129465||a===129467||a>=129485&&a<=129487||a>=129489&&a<=129501||a>=129731&&a<=129733||a>=129776&&a<=129782};a.isEmojiVariationSelector=function(a){return a===65039};a.isNonSpacingCombiningMark=function(a){return a>8419||a<8416?!1:a===8416||a===8419};a.isRegionalIndicator=function(a){return a>127487||a<127462?!1:a>=127462&&a<=127487};a.isTagSpec=function(a){return a>917630||a<917536?!1:a>=917536&&a<=917568||a>=917595&&a<=917630};a.isTagTerm=function(a){return a===917631};a.isText=function(a){return a>8419||a<35?!1:a===35||a===42||a>=48&&a<=57||a===8419};a.isTextVariationSelector=function(a){return a===65038};a.isDefaultTextPresentation=function(a){return a>917631||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8205||a===8252||a===8265||a===8419||a===8482||a===8505||a>=8596&&a<=8597||a>=8617&&a<=8618||a===9e3||a===9167||a>=9197&&a<=9199||a>=9201&&a<=9202||a>=9208&&a<=9210||a===9410||a===9654||a===9664||a>=9730&&a<=9732||a===9745||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9785||a===9792||a===9794||a===9823||a===9851||a===9854||a===9874||a>=9876&&a<=9879||a===9881||a>=9883&&a<=9884||a===9895||a>=9904&&a<=9905||a===9928||a===9935||a===9937||a===9939||a===9961||a>=9968&&a<=9969||a===9972||a>=9975&&a<=9977||a===9997||a===9999||a===10002||a===10004||a===10013||a===10017||a===10052||a===10055||a===10083||a===12336||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127777||a>=127780&&a<=127788||a===127798||a===127869||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127903||a>=127947&&a<=127950||a>=127956&&a<=127967||a===127987||a===127989||a===127991||a===128063||a===128065||a===128253||a>=128329&&a<=128330||a>=128367&&a<=128368||a>=128371&&a<=128377||a===128391||a>=128394&&a<=128397||a===128400||a===128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a===128506||a===128715||a>=128717&&a<=128719||a>=128736&&a<=128741||a===128745||a===128752||a===128755||a>=917536&&a<=917631};a.isSymbol=function(a){return a>8482||a<169?!1:a===169||a===174||a===8482};a.isZWJ=function(a){return a===8205};return a}();e.exports=a}),null);
__d("UnicodeUtils",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i=55296,j=56319,k=56320,l=57343,m=/[\uD800-\uDFFF]/;function n(a){return i<=a&&a<=l}function a(a,b){0<=b&&b<a.length||h(0,1346,b,a.length);if(b+1===a.length)return!1;var c=a.charCodeAt(b);a=a.charCodeAt(b+1);return i<=c&&c<=j&&k<=a&&a<=l}function o(a){return m.test(a)}function p(a,b){return 1+n(a.charCodeAt(b))}function b(a){if(!o(a))return a.length;var b=0;for(var c=0;c<a.length;c+=p(a,c))b++;return b}function c(a,b){return r(a,b,b+1)}function q(a,b,c){var d=b||0;c=c===void 0?Infinity:c||0;if(!o(a))return a.substr(d,c);var e=a.length;if(e<=0||d>e||c<=0)return"";var f=0;if(d>0){for(;d>0&&f<e;d--)f+=p(a,f);if(f>=e)return""}else if(b<0){for(f=e;d<0&&0<f;d++)f-=p(a,f-1);f<0&&(f=0)}b=e;if(c<e)for(b=f;c>0&&b<e;c--)b+=p(a,b);return a.substring(f,b)}function r(a,b,c){b=b||0;c=c===void 0?Infinity:c||0;b<0&&(b=0);c<0&&(c=0);var d=Math.abs(c-b);b=b<c?b:c;return q(a,b,d)}function d(a){var b=[];for(var c=0;c<a.length;c+=p(a,c))b.push(a.codePointAt(c));return b}g.isCodeUnitInSurrogateRange=n;g.isSurrogatePair=a;g.hasSurrogateUnit=o;g.getUTF16Length=p;g.strlen=b;g.charAt=c;g.substr=q;g.substring=r;g.getCodePoints=d}),98);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f,g){var h=0,i=1,j=2,k=3,l=4,m=5,n=6,o=7,p=8,q=9,r=10,s=11;function t(a){var b=a[0];if(b===void 0)return!1;var d=a.length,e=a[d-1];if(e){e=e.charCodeAt(0);if(c("EmojiRendererData").isTagSpec(e))return!1}b=b.charCodeAt(0);if(c("EmojiRendererData").isSymbol(b)&&d<2)return!1;if(c("EmojiRendererData").isText(b))if(d===1)return!1;else if(a.length==2)return c("EmojiRendererData").isNonSpacingCombiningMark(a[1].charCodeAt(0));else{e=1;c("EmojiRendererData").isEmojiVariationSelector(a[e].charCodeAt(0))&&e++;while(e<a.length){if(!c("EmojiRendererData").isNonSpacingCombiningMark(a[e].charCodeAt(0)))return!1;e++}return!0}return!0}function u(a,b){var e=null,f=[],g=p,u=0,v=a.length;while(u<v){var w=a.codePointAt(u),x=d("UnicodeUtils").getUTF16Length(a,u),y=a.substr(u,x);switch(g){case q:c("EmojiRendererData").isRegionalIndicator(w)?g=k:g=p;break;case l:if(c("EmojiRendererData").isEmojiModifier(w)){g=m;break}case h:c("EmojiRendererData").isZWJ(w)?g=o:c("EmojiRendererData").isEmojiVariationSelector(w)?g=j:c("EmojiRendererData").isTextVariationSelector(w)?g=s:c("EmojiRendererData").isNonSpacingCombiningMark(w)?g=i:c("EmojiRendererData").isTagSpec(w)?g=n:g=p;break;case i:case j:if(c("EmojiRendererData").isNonSpacingCombiningMark(w))break;case k:case m:c("EmojiRendererData").isZWJ(w)?g=o:c("EmojiRendererData").isTagSpec(w)?g=n:g=p;break;case n:c("EmojiRendererData").isTagSpec(w)||c("EmojiRendererData").isTagTerm(w)?g=n:g=p;break;case o:c("EmojiRendererData").isRegionalIndicator(w)?g=q:c("EmojiRendererData").isEmojiModifierBase(w)?g=l:c("EmojiRendererData").isEmoji(w)?g=h:g=p;break;case r:c("EmojiRendererData").isNonSpacingCombiningMark(w)?g=i:c("EmojiRendererData").isEmojiVariationSelector(w)?g=j:g=p;break;default:g=p;break}if(g===p){c("EmojiRendererData").isRegionalIndicator(w)?g=q:c("EmojiRendererData").isEmojiModifierBase(w)?g=l:c("EmojiRendererData").isText(w)?g=r:c("EmojiRendererData").isEmoji(w)&&(g=h);if(g!==p){e!==null&&t(e.emoji)&&f.push(e);if(b!==null&&b===f.length){e=null;break}e={emoji:[y],length:x,offset:u}}}else e!==null&&(e.emoji.push(y),e.length+=x);u+=x}e!==null&&t(e.emoji)&&f.push(e);return f}function a(a,b,c){c=u(a);var d=[],e=0;c.forEach(function(c){var f=c.offset;f>e&&d.push(a.substr(e,f-e));var g=b(c.emoji);g!=null&&d.push(g);e=f+c.length});d.push(a.substr(e,a.length-e));return d}function b(a){return u(a,1).length===1}function e(a){return u(a).length}g.parse=u;g.render=a;g.containsEmoji=b;g.countEmoji=e}),98);
__d("ThreadStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PAUSED:0,PAUSED:1});f["default"]=a}),66);
__d("useStableValue",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(a){return i(a,d("I64").equal)}function i(a,b){var c=h(a);b(c.current,a)||(c.current=a);return c.current}g.useStableI64=a;g.useStableValue=i}),98);/*FB_PKG_DELIM*/
__d("IGDSAppMessengerPanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12.003 1.131a10.487 10.487 0 0 0-10.87 10.57 10.194 10.194 0 0 0 3.412 7.771l.054 1.78a1.67 1.67 0 0 0 2.342 1.476l1.935-.872a11.767 11.767 0 0 0 3.127.416 10.488 10.488 0 0 0 10.87-10.57 10.487 10.487 0 0 0-10.87-10.57Zm5.786 9.001-2.566 3.983a1.577 1.577 0 0 1-2.278.42l-2.452-1.84a.63.63 0 0 0-.759.002l-2.556 2.049a.659.659 0 0 1-.96-.874L8.783 9.89a1.576 1.576 0 0 1 2.277-.42l2.453 1.84a.63.63 0 0 0 .758-.003l2.556-2.05a.659.659 0 0 1 .961.874Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisDirectActionCreateDirectInboxLoaded",["polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.inbox;var d=a.has_older,e=a.oldest_cursor;a=a.threads;a=c("polarisNormalizeDirectThreads")(a);return babelHelpers["extends"]({at:Date.now(),inboxPagination:{hasOlder:d,isLoading:!1,oldestCursor:e},messages:a.entities.items,threads:a.entities.threads,type:"DIRECT_INBOX_LOADED",users:a.entities.users},b)}g.createDirectInboxLoaded=a}),98);
__d("PolarisDirectActionCreatePendingThreadsLoaded",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return{messages:a,pagination:d,threads:b,type:"DIRECT_INBOX_PENDING_THREADS_LOADED",users:c}}f.createPendingThreadsLoaded=a}),66);
__d("PolarisDirectActionFetchInboxPresence",["PolarisDirectAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a){return d("PolarisDirectAPI").getInboxPresence().then(function(b){b!=null&&a({type:"DIRECT_PRESENCE_UPDATED",userPresence:b})})}}g.fetchInboxPresence=a}),98);
__d("PolarisDirectActionRefreshPendingInbox",["PolarisDirectAPI","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors","polarisNormalizeDirectThreads"],(function(a,b,c,d,e,f,g){"use strict";function a(){return function(a,b){a({type:"DIRECT_INBOX_PENDING_THREADS_START_LOAD"});b=d("polarisDirectSelectors").getPendingRequestsPagination(b());return d("PolarisDirectAPI").getPendingInbox({cursor:b==null?void 0:b.oldestCursor}).then(function(b){var e=c("polarisNormalizeDirectThreads")(b.inbox.threads);e=e.entities;var f=e.items,g=e.threads;e=e.users;b=b.inbox;var h=b.has_older;b=b.oldest_cursor;a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded(f,g,e,{hasOlder:h,oldestCursor:b}))},function(b){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_refresh_pending_inbox_failed",b),a(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE})),a(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})}}g.refreshPendingInbox=a}),98);
__d("PolarisDirectActionLoadInbox",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionCreateDirectInboxLoaded","PolarisDirectActionFetchInboxPresence","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionsLogger","PolarisDirectLogger","PolarisDirectStrings","PolarisGenericStrings","QuickPerformanceLogger","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(b,e){c("QuickPerformanceLogger").markerStart(c("qpl")._(35586049,"4342"));b({type:"DIRECT_INBOX_LOADING"});return d("PolarisDirectAPI").getInbox("inbox_snapshot",{folder:a.folder,limit:c("qex")._("605")?d("PolarisDirectActionConstants").DIRECT_MSYS_INBOX_SNAPSHOT_LIMIT:d("PolarisDirectActionConstants").DIRECT_INBOX_SNAPSHOT_LIMIT,thread_message_limit:d("PolarisDirectActionConstants").DIRECT_INBOX_THREAD_MESSAGE_LIMIT}).then(function(f){String(f.viewer.pk)!==d("PolarisConfig").getViewerId()&&window.location.reload();c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586049,"4342"),2);var g=f.pending_requests_total;g>0&&b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox());var h=e();h=h.direct;h=h==null?void 0:h.seqId;var i=f.seq_id,j=!0;h!=null&&h>i&&(d("PolarisDirectActionsLogger").directActionsLogger.logError("seq_id_decrease_on_inbox_load",{"new":i,old:h}),j=a.forceSeqIdUpdate);j&&d("PolarisDirectLogger").DirectLogger.debugTrace("seq_id_updated",i);b(d("PolarisDirectActionCreateDirectInboxLoaded").createDirectInboxLoaded(f,{pendingRequestsTotal:g,seqId:j?i:void 0}));b(d("PolarisDirectActionFetchInboxPresence").fetchInboxPresence())},function(e){c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586049,"4342"),3),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_load_failed",e),b({toast:{actionHandler:function(){b(h(a))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisDirectStrings").INBOX_LOAD_ERROR},type:"DIRECT_INBOX_LOAD_FAILED"})})}}g.loadInbox=h}),98);
__d("PolarisDirectActionReloadInbox",["PolarisConfig","PolarisDirectActionConstants","PolarisDirectActionLoadInbox","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=d("PolarisDirectActionConstants").loadInboxDefaults);return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({type:"DIRECT_CLEAR",viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});return yield b(d("PolarisDirectActionLoadInbox").loadInbox(a))});return function(a){return e.apply(this,arguments)}}()}g.reloadInbox=a}),98);
__d("PolarisDirectActionLoadThread",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisPerformanceLogger","PolarisToastActions","QuickPerformanceLogger","polarisDirectSelectors","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e,f){var g=d("PolarisPerformanceLogger").getInstanceKeyFromId(a);c("QuickPerformanceLogger").markerStart(c("qpl")._(35586051,"152"),g);var h=d("polarisDirectSelectors").getThreadExitCounter(f(),a);return d("PolarisDirectAPI").getThread(a,b).then(function(b){c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586051,"152"),2,g),h===d("polarisDirectSelectors").getThreadExitCounter(f(),a)&&e(d("PolarisDirectActionThreadLoaded").threadLoaded(b.thread))},function(a){c("QuickPerformanceLogger").markerEnd(c("qpl")._(35586051,"152"),3,g),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_load_thread_failed",a),e(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}g.loadThread=a}),98);
__d("PolarisDirectActionConnectToMqtt",["PolarisConfig","PolarisDirectAPI","PolarisDirectActionLoadThread","PolarisDirectActionReloadInbox","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectLogger","PolarisDirectMQTTInstance","PolarisIncomingCallActions","PolarisRoutes","asyncToGeneratorRuntime","browserHistory","gkx","justknobx","nullthrows","polarisNormalizeDirectItems","polarisNormalizeDirectThreads","qex","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e){e===void 0&&(e=!1);var f=c("uuidv4")();f=f.substring(f.lastIndexOf("-")+1);var g=new(d("PolarisDirectLogger").DirectLogger)("DirectActions",f);g.debugTrace("start",{forceReconnect:e,newSubscriptionType:a});return function(j,k){var l=k();l=l.direct;var m=l.realtimeState,n=m.mqttConnectivity;m=m.subscriptionType;g.debugTrace("internal",{currentSubscriptionType:m,forceReconnect:e,newSubscriptionType:a});if(!e&&n==="Connected"&&m===a){g.debugTrace("noop");return}var o=function(a,b,e,f){var g;f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;a=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);j({message:a.entities.items[f.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())});((g=f.replied_to_message)==null?void 0:g.item_id)!=null&&j({message:a.entities.items[f.replied_to_message.item_id],mutationToken:b,threadId:e,type:"DIRECT_MESSAGE_UPDATED",users:a.entities.users,viewerId:c("nullthrows")(d("PolarisConfig").getViewerId())})},p=function(a,b,c,e,f,g,h){var i=k().direct.threads.get(b);i?j({emoji:f,itemId:c,likeAction:a,superReactType:g,timestamp:h,type:"DIRECT_MESSAGE_REACTION_UPDATED",userId:e}):j(d("PolarisDirectActionLoadThread").loadThread(b,{limit:1}))},q=function(a,b,c){j({senderId:c,threadId:b,timestamp:a,type:"DIRECT_TYPING_INDICATOR_STOPPED"})},r=function(a,b,c,e,f,g,h){a===4?j(d("PolarisIncomingCallActions").updateCall(b,c,e,f,g,h)):a===5&&j(d("PolarisIncomingCallActions").ackCall())},s=l.seqId,t=Date.now();a==="message"&&l.snapshotAt!=null&&(t=l.snapshotAt);var u={onHasSeen:function(a,b,c,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.item_id;b=b.timestamp;j({messageId:a,threadId:c,timestamp:b,type:"DIRECT_SEEN_STATE_UPDATED",userId:e})},onIndicateTypingActivity:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;a=b.activity_status;var f=b.sender_id,h=b.timestamp;b=b.ttl;var i=c("nullthrows")(f);f=c("nullthrows")(a);g.debugTrace("indicate_typing_activity",{senderId:i,typingStatus:f});if(f===d("PolarisDirectConstants").TypingStatus.OFF)q(h,e,i);else{a=window.setTimeout(function(){return q(h,e,i)},c("nullthrows")(b));j({senderId:i,threadId:e,timerId:a,timestamp:h,type:"DIRECT_TYPING_INDICATOR_STARTED"})}},onIrisConnectivityChanged:function(a,b){g.debugTrace("iris_connectivity",{newConnectivity:a,newType:b}),j({irisConnectivity:a,subscriptionType:b,type:"DIRECT_IRIS_CONNECTIVITY_CHANGED"}),b==="badge_count_only"&&a==="Subscribed"&&(c("qex")._("605")!==!0&&d("PolarisDirectAPI").getBadgeCount().then(function(a){a=a.badge_count;typeof a==="number"&&(g.debugTrace("badge_count_updated",a),j({count:a,type:"DIRECT_UNSEEN_COUNT_UPDATED"}))}))},onMakeAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_ADDED"})},onMqttConnectivityChanged:function(a){g.debugTrace("mqtt_connectivity",a),j({mqttConnectivity:a,type:"DIRECT_MQTT_CONNECTIVITY_CHANGED"})},onNewMessage:function(a,b,c,e){var f=k().direct.threads.get(c);if(f){o(a,b,c,e);f=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(f===null)return;b=d("polarisNormalizeDirectItems").normalizeDirectItems([f]);q(f.timestamp,c,b.entities.items[f.item_id].user_id)}else j(d("PolarisDirectActionLoadThread").loadThread(c,{limit:1}))},onNewThread:function(a,b,e){b=d("PolarisDirectDeltaHandlers").parseDeltaItem(a);if(b===null)return;e=c("polarisNormalizeDirectThreads")([b]);j({messages:e.entities.items,threads:e.entities.threads,type:"DIRECT_THREAD_LOADED",users:e.entities.users})},onPresenceUpdated:function(a){var b;g.debugTrace("presence_updated",a);j({type:"DIRECT_PRESENCE_UPDATED",userPresence:(b={},b[a.user_id]={is_active:a.is_active,last_activity_at_ms:a.last_activity_at_ms},b)})},onRemoveAdmin:function(a,b,c,d){j({adminUserId:d,threadId:c,type:"DIRECT_THREAD_ADMIN_REMOVED"})},onRemoveEmoji:function(a,b,c,e,f){p(d("PolarisDirectConstants").LikeAction.DELETED,c,e,f)},onRemoveMessage:function(a,b,c,d){j({itemId:d,threadId:c,type:"DIRECT_MESSAGE_REMOVED"})},onRemoveThread:function(a,b,c){window.location.href.indexOf("/t/"+c)!==-1&&d("browserHistory").browserHistory.push(d("PolarisRoutes").DIRECT_INBOX),j({threadId:c,type:"DIRECT_REMOVE_THREAD"})},onResnapshotRequested:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.seq_id,c=a.subscription_type;g.logDirectEvent("resnapshot_requested",{seq_id:b,subscription_type:c});yield j(d("PolarisDirectActionReloadInbox").reloadInbox({forceSeqIdUpdate:!0}));var e=k();e=e.direct.seqId;g.debugTrace("resnapshot_done",{newSeqId:e});e!==b?(g.logDirectEvent("reconnect_after_resnapshot",{newSeqId:e}),j(h(c,!0))):g.logError("seq_id_not_updated_after_resnapshot",babelHelpers["extends"]({"new":e,old:b},a))});function c(b){return a.apply(this,arguments)}return c}(),onSeqIdUpdated:function(a){s!=null&&s>a?g.logError("seq_id_decrease",{"new":a,old:s}):(g.debugTrace("seq_id_updated",a),j({seqId:a,type:"DIRECT_SEQ_ID_UPDATED"}))},onUnseenCountChange:function(a){a=d("PolarisDirectDeltaHandlers").parseDeltaNumber(a);j({count:a,type:"DIRECT_UNSEEN_COUNT_UPDATED"});if(c("gkx")("6112")&&c("justknobx")._("1245"))return;g.debugTrace("badge_count_updated",a)},onUpdatedMessage:o,onUpdateEmoji:function(a,b,e,f,g){if(c("gkx")("4848")){b=a!=null?d("PolarisDirectDeltaHandlers").parsePartialDeltaEmoji(a):void 0;b=(b=b)!=null?b:{};var h=b.emoji,i=b.super_react_type;b=b.timestamp;p(d("PolarisDirectConstants").LikeAction.CREATED,e,f,g,h,i,b)}else{h=a!=null?String(d("PolarisDirectDeltaHandlers").parseDeltaItem(a)):void 0;p(d("PolarisDirectConstants").LikeAction.CREATED,e,f,g,h)}}};s==null?(g.logError("seq_id_is_null"),d("PolarisDirectAPI").getBadgeCount().then(function(b){b.seq_id!=null&&i(b.seq_id,t,a,f,u,r)})):i(s,t,a,f,u,r)}}function i(a,b,c,e,f,g){d("PolarisDirectMQTTInstance").createMqttInstance(a,b,c,e).then(function(a){a!=null&&a.connect(f,g)})}g.connectToMqtt=h}),98);
__d("PolarisDirectBadgeIcon",["IGDSAppMessengerPanoFilledIcon","IGDSAppMessengerPanoOutlineIcon","IGDSDirectPanoFilledIcon","IGDSDirectPanoOutlineIcon","PolarisDirectActionConnectToMqtt","PolarisDirectActionGetInteropStatus","PolarisDirectLogger","PolarisDirectStringHelpers","PolarisDirectStrings","PolarisNavigationActionConstants","PolarisNavigationItem.react","PolarisNavigationStrings","PolarisODS","PolarisReactRedux","PolarisRoutes","PolarisUA","emptyFunction","polarisDirectSelectors","polarisNavigationSelectors","react","usePolarisDirectFeatures","usePolarisIsOnDirectPage"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(a){var b=a.hasOpenSubpanel;b=b===void 0?!1:b;var e=a.hasPadding;e=e===void 0?!0:e;var f=a.isActivityModalOpen;f=f===void 0?!1:f;a.location;var g=a.modalOpen;g===void 0?!1:g;g=a.productAttribution;var l=a.onClick,m=l===void 0?c("emptyFunction"):l;l=babelHelpers.objectWithoutPropertiesLoose(a,["hasOpenSubpanel","hasPadding","isActivityModalOpen","location","modalOpen","productAttribution","onClick"]);a=c("usePolarisDirectFeatures")();a=a.hasMessagingRedesign;var n=a?h.jsx(c("IGDSAppMessengerPanoFilledIcon"),babelHelpers["extends"]({alt:d("PolarisDirectStrings").MESSENGER_ALT_TEXT},l)):h.jsx(c("IGDSDirectPanoFilledIcon"),babelHelpers["extends"]({alt:d("PolarisDirectStrings").DIRECT_ALT_TEXT},l));a=a?h.jsx(c("IGDSAppMessengerPanoOutlineIcon"),babelHelpers["extends"]({alt:d("PolarisDirectStrings").MESSENGER_ALT_TEXT},l)):h.jsx(c("IGDSDirectPanoOutlineIcon"),babelHelpers["extends"]({alt:d("PolarisDirectStrings").DIRECT_ALT_TEXT},l));var o=d("PolarisReactRedux").useDispatch();l=c("usePolarisIsOnDirectPage")();var p=d("PolarisReactRedux").useSelector(d("polarisDirectSelectors").getBadgeCount),q=d("PolarisReactRedux").useSelector(function(a){return((a=a.direct.badge)==null?void 0:a.count)||0}),r=d("PolarisReactRedux").useSelector(d("polarisNavigationSelectors").getIsDesktopNavMenuOpen),s=d("PolarisReactRedux").useSelector(d("polarisNavigationSelectors").getIsDirectDropdownOpen),t=d("PolarisReactRedux").useSelector(d("polarisNavigationSelectors").getIsFeedCreationOpen),u=d("PolarisReactRedux").useSelector(d("polarisNavigationSelectors").getIsLiveCreationModalOpen),v=d("PolarisUA").isDesktop()&&l?p:q;p=k(v);var w=p[0];j(function(){o(d("PolarisDirectActionConnectToMqtt").connectToMqtt("badge_count_only"))},[o]);j(function(){o(d("PolarisDirectActionGetInteropStatus").getInteropStatus())},[o]);j(function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectBadgeIcon","badge_impression",{has_count:w>0,unseen_count:w})},[w]);q=i(function(){m(),d("PolarisUA").isDesktop()&&c("PolarisODS").incr("web.navigation.click.desktop.direct"),d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectBadgeIcon","badge_click",{has_count:v>0,unseen_count:v})},[m,v]);p=!f&&!r&&!t&&!u&&(l||s);f=v<100?String(v):"99+";r=p?n:a;return h.jsx(c("PolarisNavigationItem.react"),{"aria-label":d("PolarisDirectStringHelpers").getBadgeNotificationAltText(v),badgeText:v>0?f:void 0,badgeVariant:"messages",hasOpenSubpanel:b,hasPadding:e,href:d("PolarisRoutes").DIRECT_INBOX,icon:r,isActive:p,label:d("PolarisNavigationStrings").MESSAGES_TEXT,onClick:q,productAttribution:g,section:d("PolarisNavigationActionConstants").NAVIGATION_SECTION_DIRECT})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisFullscreenShell.react",["PolarisBaseShell.react","PolarisHideNativeAppBanner","PolarisToastWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={shell:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.componentDidUpdate=function(a){a.deviceOrientation!=null&&a.deviceOrientation!==this.props.deviceOrientation&&d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.render=function(){var a=this.props,b=a.children;a=a.xstyle;return h.jsxs(c("PolarisBaseShell.react"),{xstyle:[i.shell,a],children:[b,h.jsx(c("PolarisToastWrapper.react"),{})]})};return b}(h.Component);g["default"]=a}),98);
__d("PolarisDirectActionShareStory",["PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisODS","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g,h,i,j){return function(k,l){e.forEach(function(e,m){var n;e.type==="user"?n=d("polarisDirectSelectors").getThreadIdForUserId(l(),m):e.type==="thread"&&(n=m);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{existingThreadId:n,recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE});return n!=null?d("PolarisDirectAPI").storyShare(f,g,n).then(function(){i==null?void 0:i(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),c("PolarisODS").incr("web.share_sheet.send_story")}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(h)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(n),h,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("PolarisODS").incr("web.share_sheet.send_story_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_share_story_failed",a,{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}):d("PolarisDirectAPI").createGroupThread([m]).then(function(l){var n=l.thread_id;k(d("PolarisDirectActionThreadLoaded").threadLoaded(l));d("PolarisDirectAPI").storyShare(f,g,n).then(function(){i==null?void 0:i(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE})}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(h)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(n),h,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_existing_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_new_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})}}g.shareStory=a}),98);
__d("PolarisNetworkInfo",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=navigator;return a.connection||a.mozConnection||a.webkitConnection}f.getNavigatorConnection=a}),66);
__d("PolarisLocationAvatar.react",["cx","fbt","IGDSLocationPanoOutlineIcon","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.backgroundColor;b=b===void 0?"ig-secondary-background":b;var e=a.isLink;e=e===void 0?!0:e;var f=a.locationId,g=a.profilePictureUrl;a=a.size;a=a===void 0?30:a;a={height:a,width:a};var h=g!=null;h=h?j.jsx("img",{alt:"",className:"_abwx",src:g}):j.jsx("div",{className:"_abwy",children:j.jsx(c("IGDSLocationPanoOutlineIcon"),{alt:i._("__JHASH__cmMYPzRMRbE__JHASH__"),color:"ig-secondary-text",size:d("PolarisUA").isMobile()?32:44})});return j.jsx("div",{className:"_abwv"+(b==="ig-primary-background"?" _adbd":""),style:a,children:e?j.jsx(c("PolarisFastLink.react"),{className:"_aa8k",href:d("PolarisLinkBuilder").buildLocationLink({id:f,slug:""}),style_DEPRECATED:a,children:h}):j.jsx(j.Fragment,{children:h})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FocusGroup.react",["FocusManager","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","gkx","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useRef,l=5;function m(a){return a.length===1}function n(a,b,c,e){d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c);b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1),d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b,{preventScroll:e}),c.preventDefault())}function o(a,b,c,d,e,f){b=b.onNavigate;if(b&&d){var g=!1,h=p(d,e);e={currentIndex:h,event:c,focusItem:function(a,b){a=a.scopeRef.current;a&&n(b||f,a,c)},getItem:function(a){return t(d,a)},getItemByTag:function(a){var b=d.length,c=h+1;while(!0){if(c===h)return null;if(c>b-1){c=0;continue}var e=d[c];if(e){var f=e.disabled,g=e.scopeRef,i=e.tag;g=g.current;if(g&&f!==!0&&i===a)return e}c++}return null},preventDefault:function(){g=!0},type:a};b(e);if(g)return!0}return!1}function p(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.scopeRef.current===b)return c}return-1}function q(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c!==null){d=p(c,b);b=a.wrap;a=u(c,d-1);return!a&&b===!0?u(c,c.length-1):a}return null}function r(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c.length>0){d=p(c,b);b=a.wrap;a=s(c,d+1);return!a&&b===!0?s(c,0):a}return null}function s(a,b){var d=a.length;if(b>d)return null;b=b;while(b<d){var e=a[b];if(c("gkx")("5403")){if(e!==null)return e.scopeRef.current}else if(e!==null&&e.disabled!==!0)return e.scopeRef.current;b++}return null}function t(a,b){b=b;while(b>=0){var d=a[b];if(c("gkx")("5403")){if(d!==null)return d}else if(d!==null&&d.disabled!==!0)return d;b--}return null}function u(a,b){a=t(a,b);return a?a.scopeRef.current:null}function v(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}function a(a){var b=h.unstable_Scope,c=h.createContext(null),e=h.createContext(null);function g(e){var f=e.children,g=e.orientation,i=e.wrap,m=e.tabScopeQuery,n=e.allowModifiers,o=e.preventScrollOnFocus,p=o===void 0?!1:o;o=e.pageJumpSize;var q=o===void 0?l:o,r=e.onNavigate,s=k(null);o=j(function(){return{scopeRef:s,orientation:g,wrap:i,tabScopeQuery:m,allowModifiers:n,pageJumpSize:q,preventScrollOnFocus:p,onNavigate:r}},[g,i,m,n,q,p,r]);var u=k(!1);e=d("ReactFocusEvent.react").useFocusWithin(s,j(function(){return{onFocusWithin:function(b){u.current||(u.current=!0,s.current&&a&&(t(s.current,a),d("setElementCanTab").setElementCanTab(b.target,!0)))}}},[u]));return h.jsx(c.Provider,{value:o,children:h.jsx(b,{ref:e,children:f})})}g.displayName=g.name+" [from "+f.id+"]";function t(a,b){var c=document.activeElement;a=a.DO_NOT_USE_queryAllNodes(b);if(a!==null)for(b=0;b<a.length;b++){var e=a[b];e!==c?d("setElementCanTab").setElementCanTab(e,!1):d("setElementCanTab").setElementCanTab(e,!0)}}function w(f){var g=f.children,l=f.disabled;f=f.tag;var w=k(null),x=i(c);d("ReactKeyboardEvent.react").useKeyboard(w,j(function(){return{onKeyDown:function(b){if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=w.current;if(c!==null&&x!==null){var f=x.orientation==="vertical"||x.orientation==="both",g=x.orientation==="horizontal"||x.orientation==="both",h=x.scopeRef.current,i=b.key,j=x.preventScrollOnFocus;if(i==="Tab"&&h!==null){var k=x.tabScopeQuery;if(k){if(x.onNavigate){var l=h.getChildContextValues(e);if(o("TAB",x,b,l,c,k))return}t(h,k)}return}if(v(b)){l=x.allowModifiers;if(l!==!0)return}if(h===null)return;k=i;d("Locale").isRTL()&&(i==="ArrowRight"?k="ArrowLeft":i==="ArrowLeft"&&(k="ArrowRight"));switch(k){case"Home":l=h.getChildContextValues(e);if(o("HOME",x,b,l,c,a))return;k=s(l,0);if(k){n(a,k,b,j);return}break;case"End":l=h.getChildContextValues(e);if(o("END",x,b,l,c,a))return;k=u(l,l.length-1);if(k){n(a,k,b,j);return}break;case"PageUp":l=h.getChildContextValues(e);if(o("PAGE_UP",x,b,l,c,a))return;k=x.pageJumpSize;var y=p(l,c);l=s(l,Math.max(0,y-k));if(l){n(a,l,b,j);return}break;case"PageDown":y=h.getChildContextValues(e);if(o("PAGE_DOWN",x,b,y,c,a))return;k=x.pageJumpSize;l=p(y,c);y=u(y,Math.min(y.length-1,l+k));if(y){n(a,y,b,j);return}break;case"ArrowUp":if(f){l=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,l,c,a))return;k=b.metaKey||b.ctrlKey?s(l,0):q(x,c,l);if(k){n(a,k,b,j);return}}break;case"ArrowDown":if(f){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);if(l){n(a,l,b,j);return}}break;case"ArrowLeft":if(g){k=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,k,c,a))return;f=b.metaKey||b.ctrlKey?s(k,0):q(x,c,k);if(f){n(a,f,b,j);return}}break;case"ArrowRight":if(g){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);l&&n(a,l,b,j)}break;default:if(m(i)&&x.onNavigate){k=h.getChildContextValues(e);o("PRINT_CHAR",x,b,k,c,a)}}}}}},[x]));var y=d("ReactFocusEvent.react").useFocusWithin(w,j(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=w.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);b=b.target===c;if(b&&(c&&!d("setElementCanTab").canElementTab(c))){b=x==null?void 0:x.scopeRef.current;b&&t(b,a)}}}}},[x==null?void 0:x.scopeRef]));l={scopeRef:w,disabled:l,tag:f};return h.jsx(e.Provider,{value:l,children:h.jsx(b,{ref:y,children:g})})}w.displayName=w.name+" [from "+f.id+"]";return[g,w]}g.createFocusGroup=a}),98);/*FB_PKG_DELIM*/
__d("CometLazyDialogTrigger.react",["react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useCallback;function a(a){var b=a.children,d=a.dialogProps,e=a.dialogResource,f=a.fallback,g=a.onHide,i=a.onShow;a=c("useCometLazyDialog")(e,f);var j=a[0];e=a[1];f=h(function(){j(d,g),i==null?void 0:i()},[j,d,g,i]);return b(f,e)}g["default"]=a}),98);
__d("IGDThreadListNewMessageDialogEntrypointProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useMemo,k=e({});function a(a){var b=a.children,c=a.entrypoint;a=j(function(){return{entrypoint:c}},[c]);return h.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=i(k);return a.entrypoint}g.IGDThreadListNewMessageDialogEntrypointProvider=a;g.useIGDThreadListNewMessageDialogEntrypoint=b}),98);
__d("useEncryptedBackupsProcessState",["gkx","promiseDone","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIds.bs").__setRef("useEncryptedBackupsProcessState");function a(a){var b=a.encryptedBackupData,d=a.storage;a=i(1);var e=a[0],f=a[1];h(function(){c("gkx")("7110")&&b!=null?j.onReady(function(a){c("promiseDone")(a.processBackupIdsStoredProcedure(d),function(a){switch(a){case 1:break;case 2:f(2);break;case 3:f(3);break;case 4:f(4);break;case-1:f(-1);break;case 0:break}})}):f(0)},[b,d]);return e}g["default"]=a}),98);
__d("MWVersion.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("2");g.v2=a}),98);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}var g=function(a,b){delete a[b]};function c(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=a[b[e]];return d}function e(a){var b={};a=a;while(!0){var c=a;if(!c)return b;var d=c.hd;b[d[0]]=d[1];a=c.tl;continue}}function h(a){var b={},c=a.length;for(var d=0;d<c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0;f<e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=g;f.entries=c;f.values=d;f.fromList=e;f.fromArray=h;f.map=i}),null);
__d("MWLSLogSend.bs",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","MessengerIntent","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction.bs").set(b,f);f=e.initiatingSource;f!=null&&(d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",d("I64").to_string(e.mwVersion));a.addMetadata("is_dual_send",e.isDualSend?"true":"false");e.isMessageRequest!=null&&a.addMetadata("is_message_request",e.isMessageRequest?"true":"false");a.addMetadata("thread_type",d("I64").to_string(e.threadType));d("MessengerIntent").sentMessage();return a.onComplete(function(){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}g.logSentHeroInteraction=a}),98);
__d("rewriteFallbackUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("LSMediaUrl.bs",["I64","ServerTime","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("I64").of_float(d("ServerTime").getMillis()/1e3)}function i(a){if(d("I64").gt(a,d("I64").zero))return d("I64").lt(a,h());else return!1}function a(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.playableUrlFallback);else return a.playableUrl}function f(a){var b=a.imageUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.imageUrlFallback);else return a.imageUrl}function j(a){var b=a.faviconUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.faviconUrlFallback);else return a.faviconUrl}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList1;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList1);else return a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function l(a){try{var b=a.listItemContactUrlExpirationTimestampList2;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList2);else return a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function m(a){try{var b=a.listItemContactUrlExpirationTimestampList3;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemContactUrlFallbackList3);else return a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function n(a){var b=a.headerImageUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.headerImageUrlFallback);else return a.headerImageUrl}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback1);else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function p(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback2);else return a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function q(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;if(b!=null&&i(d("I64").of_string(b)))return c("rewriteFallbackUrl")(a.listItemProfilePictureUrlFallback3);else return a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}function r(a){var b=a.avatarViewUrlList,e=a.avatarViewUrlExpirationTimestampList;a=a.avatarViewUrlFallbackList;if(b==null)if(e!=null)return[];else if(a!=null)return a.split(", ");else return[];if(e==null)return[];if(a==null)return[];b=b.split(", ");var f=e.split(", "),g=a.split(", ");return b.map(function(a,b){var e;try{e=i(d("I64").of_string(f[b]))}catch(a){e=!0}if(e)return c("rewriteFallbackUrl")(g[b]);else return a})}r={avatarViewUrlList:r,faviconUrl:j,headerImageUrl:n,imageUrl:f,listItemContactUrlList1:k,listItemContactUrlList2:l,listItemContactUrlList3:m,listItemProfilePictureUrl1:o,listItemProfilePictureUrl2:p,listItemProfilePictureUrl3:q,playableUrl:e,previewUrl:a,previewUrlLarge:b};function s(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrl}function t(a){var b=a.previewUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.previewUrlFallback);else return a.previewUrlLarge}function u(a){var b=a.playableUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.playableUrlFallback);else return a.playableUrl}function v(a){var b=a.faviconUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.faviconUrlFallback);else return a.faviconUrl}j={faviconUrl:v,playableUrl:u,previewUrl:s,previewUrlLarge:t};function w(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}n={replyMediaUrl:w};function x(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&i(b)){return(b=c("rewriteFallbackUrl")(a.profilePictureFallbackUrl))!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}f={profilePictureUrl:x};function y(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&i(b)){return(b=(b=c("rewriteFallbackUrl")(a.profilePictureUrlFallback))!=null?b:a.profilePictureUrl)!=null?b:""}else{return(b=a.profilePictureUrl)!=null?b:""}}k={profilePictureUrl:y};function z(a){var b=a.threadPictureUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.threadPictureUrlFallback);else return a.threadPictureUrl}l={threadPictureUrl:z};function A(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.pictureUrlFallback);else return a.pictureUrl}function B(a){if(a==null)return;var b=a.coverPicUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.coverPicUrlFallback);else return a.coverPicUrl}m={folderCoverPictureUrl:B,folderPictureUrl:A};function C(a){if(a==null)return;var b=a.communityImageUrlExpirationTimestampMs;if(b!=null&&i(b))return c("rewriteFallbackUrl")(a.communityImageUrlFallback);else return a.communityImageUrl}function D(a){if(a!=null)if(i(a.groupImageUrlExpirationTimestampMs))return c("rewriteFallbackUrl")(a.groupImageUrlFallback);else return a.groupImageUrl}o={communityImageUrl:C,groupImageUrl:D};p=h;q=i;e=r;a=j;b=n;v=f;u=k;s=l;t=m;w=o;g.now=p;g.isExpired=q;g.Attachment=e;g.AttachmentItem=a;g.Message=b;g.Contact=v;g.CommunityMember=u;g.Thread=s;g.CommunityFolder=t;g.GroupInvitationsPending=w}),98);/*FB_PKG_DELIM*/
__d("MWQPLMarkers",[],(function(a,b,c,d,e,f){"use strict";a={BEFORE_CREATE_OPTIMISTIC_MESSAGE:"before_create_optimistic_message",CREATE_OPTIMISTIC_MESSAGE_SUCCESS:"create_optimistic_message_success",CREATED_THREAD_FOR_XMA_SHARE:"created_thread_for_xma_share",FAIL_FORWARDING_MESSAGE:"fail_forwarding_message",FAILED_MEDIA_MISSING_THREAD:"failed_media_missing_thread",FAILED_MEDIA_MSGID_MISSING_IN_DB:"failed_media_msgid_missing_in_db",FAILED_MEDIA_UNSUPPORTED_TYPE:"failed_media_unsupported_type",FAILED_MESSAGE_MISSING_THREAD:"failed_message_missing_thread",FAILED_MISSING_ASSOCIATED_MESSAGE_IN_DB:"failed_missing_associated_message_in_db",FAILED_MISSING_THREAD_IN_DB:"failed_missing_thread_in_db",FAILED_MISSING_THREAD_IN_WRITING_XMA:"failed_missing_thread_in_writing_xma",FAILED_MISSING_XMA_MESSAGE_IN_DB:"failed_missing_xma_message_in_db",FAILED_TO_FETCH_BLOB_FOR_XMA_SHARE:"failed_to_fetch_blob_for_xma_share",FAILED_TO_FETCH_CHAT_JID_FOR_XMA_SHARE:"failed_to_fetch_chat_jid_for_xma_share",FAILED_TO_FETCH_QUERY_DATA_FOR_XMA_SHARE:"failed_to_fetch_query_data_for_xma_share",FAILED_TO_FETCH_THREAD_KEY_FOR_XMA_SHARE:"failed_to_fetch_thread_key_for_xma_share",FAILED_TO_PARSE_JSON_FOR_XMA_SHARE:"failed_to_parse_json_for_xma_share",FAILED_UPLOAD_MEDIA_TO_BACKEND:"failed_upload_media_to_backend",FETCHING_DEVICES_FOR_XMA_SHARE:"fetching_devices_for_xma_share",FORWARDED_MESSAGE_WRITTEN:"forwarded_message_written",GET_EXTERNAL_LINK_RESPONSE_SUCCESS:"get_external_link_response_success",MESSAGE_ALREADY_SENT_TO_BACKEND:"message_already_sent_to_backend",MISSING_XMA_DATA:"missing_xma_data",PREVIEW_DOES_NOT_EXIST:"preview_does_not_exist",PREVIEW_FAVICON_SPEC_READY:"preview_favicon_spec_ready",RECEIVED_MEDIA_IN_WAJOB:"received_media_in_wajob",RECEIVED_MESSAGE_IN_WAJOB:"received_message_in_wajob",RETURN_PRIVATE_XMA_DATA:"return_private_xma_data",RETURN_PUBLIC_XMA_DATA:"return_public_xma_data",SAVED_XMA_CONTENT_IN_DB:"saved_xma_content_in_db",SAVING_XMA_UPLOAD_RESULT_IN_DB:"saving_xma_upload_result_in_db",SEND_MESSAGE_TO_BACKEND_FAILED:"send_message_to_backend_failed",START_POST_SHARING:"start_post_sharing",SUCCESSFUL_MESSAGE_SENT_TO_BACKEND:"successful_message_sent_to_backend",SUCCESSFUL_UPLOAD_MEDIA_TO_BACKEND:"successful_upload_media_to_backend",UPLOADING_MEDIA_TO_BACKEND:"uploading_media_to_backend",WRITING_MEDIA_TO_DB_FAILED:"writing_media_to_db_failed",WRITING_MESSAGE_TO_DB:"writing_message_to_db",WRITING_XMA_TO_DB:"writing_xma_to_db",XMA_DATA_FETCH_BEGIN:"xma_data_fetch_begin",XMA_DATA_FETCH_SUCCESS:"xma_data_fetch_success",XMA_DATA_QUERY_BEGIN:" xma_data_query_begin",XMA_DATA_QUERY_COMPLETE:"xma_data_query_complete"};f.MESSAGE_SEND_TO_SENT=a}),66);
__d("useSendToSentLogging",["FBLogger","I64","MAWEBSwitch","MAWLogMultipleTabs","MWChatInteraction.bs","MWLSLogSend.bs","MWVersion.bs","ReQL","ReQLSuspense","qpl","react","shouldUseMAWSharedWorker","useCometInteractionTracing","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){a===void 0&&(a={});var b=c("useCometInteractionTracing")(c("qpl")._(25313175,"1551"),"fast","INTERACTION"),e=c("useReStore")(),g=h(function(a){a=d("I64").of_string(a);return d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a),f.id+":77")},[e]),i=c("MAWEBSwitch").isEnabled(),j=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),k=h(function(b,c){var d=c.isCutover,e=c.isSecure;c=c.targetID;b.addMetadata("isCutover",d.toString());b.addMetadata("isSecure",e.toString());b.addMetadata("message_type",(d=a.message_type)!=null?d:"share");b.addMetadata("thread_id",c);b.addMetadata("attachment_type",(e=a.attachment_type)!=null?e:"share");b.addMetadata("isEBEnabled",i.toString());b.addMetadata("useSharedWorker",j.toString());b.addMetadata("original_entrypoint","reshares_dialog")},[i,j,a]);return h(function(a,e,f){var h=null,i=null,j=null,l=a.targetID,m=g(l);try{if(m!=null){b(function(b){i=b,k(b,a),d("MWLSLogSend.bs").logSentHeroInteraction(b,d("MWChatInteraction.bs").s2sKey(e),{initiatingSource:f,isDualSend:!1,mwVersion:d("MWVersion.bs").v2,threadType:m==null?void 0:m.threadType}),h=b.getInstanceKey(),j=b.getTraceId(),d("MAWLogMultipleTabs").addAnnotationWithInteractionUuid(j)});return{addMetadata:function(a,b){var c;(c=i)==null?void 0:c.addMetadata(a,b)},addQplPoint:function(a){var b;(b=i)==null?void 0:b.addMarkerPoint(a,"AppTiming")},endFailure:function(a,b){var c;(c=i)==null?void 0:c.addMarkerPoint(a,"AppTiming");(c=i)==null?void 0:c.failTrace(b,!0)},interactionUUID:j,s2sInstanceKey:h}}}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Error occurred while S2S XMA Share - %s: %s",a.message,a.toString())}return{}},[k,g,b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDSWebPauseFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:h.jsx("path",{d:"M15 1c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3zm18 0c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("useWWWIGStoriesLogging",["PolarisLogPageView","PolarisReactRedux","polarisStorySelectors","react","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(){var a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId),b=c("useCometRouterState")(),e=i(null);h(function(){b!=null&&a!=null&&(e==null?void 0:e.current)!=null&&e.current!==a&&c("PolarisLogPageView")(b),e.current=a},[a,b])}g["default"]=a}),98);
__d("usePolarisStoriesProviderDisableNewPlayback",["PolarisConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c,e){var f=a.hasFocus,g=a.isBugNubActive,i=a.isCaptionModalActive,j=a.isCloseFriendsDialogActive,k=a.isExclusiveStoryDialogActive,l=a.isHidden,m=a.isHighlightsTrayActive,n=a.isKeyboardActive,o=a.isModalActive,p=a.isPaused,q=a.isStoryShareSheetActive,r=a.isStoryViewerListActive,s=a.isTransitioning,t=a.isUnfollowModalActive;h(function(){var a=g||k||j||n||o||p||q||r||m||s||t||i||l||d("PolarisConfig").isIOS()&&!f||b!=null||c;e({isPlaybackDisabled:a})},[f,g,j,k,l,n,o,p,q,r,m,s,t,i,c,e,b])}g["default"]=a}),98);
__d("PolarisStoriesProvider.react",["PolarisReactRedux","PolarisRelationshipTypes","PolarisStoriesContext","nullthrows","polarisRelationshipSelectors","polarisStorySelectors","react","usePolarisStoriesProviderDisableNewPlayback","useWWWIGStoriesLogging"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useState;function a(){return j(d("PolarisStoriesContext").StoriesContext)}function b(a){var b=a.children,e=a.initialState,f=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostAuthor));a=d("PolarisReactRedux").useSelector(function(a){return d("polarisRelationshipSelectors").getRelationship(a.relationships,f.id)});var g=a.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,j=d("PolarisReactRedux").useSelector(function(a){return a.displayProperties.viewportHeight});a=l(function(){return babelHelpers["extends"]({},d("PolarisStoriesContext").defaultContext,e,{isInitiallyFollowedByViewer:g,viewerHeight:j})},[g,e,j]);a=m(a);var n=a[0],o=a[1];a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").isFromPreviousFullscreenSession);var p=d("PolarisReactRedux").useSelector(function(a){return a.stories.isAppAttributionOpen}),q=d("PolarisReactRedux").useSelector(function(a){return a.stories.tappedObjectId}),r=i(function(a){return o(function(b){return babelHelpers["extends"]({},b,a)})},[]),s=l(function(){return babelHelpers["extends"]({},n,{updateStoriesContext:r})},[n,r]);c("useWWWIGStoriesLogging")();var t=a||p;c("usePolarisStoriesProviderDisableNewPlayback")(n,q,t,r);k(function(){r({isResumeOverlayActive:t})},[t,r]);k(function(){r({hasFocus:document.hasFocus(),isHidden:document.hidden!=null?document.hidden:!1})},[r]);return h.jsx(d("PolarisStoriesContext").StoriesContext.Provider,{value:s,children:b})}b.displayName=b.name+" [from "+f.id+"]";e=h.memo(b);g.useStoriesContext=a;g.StoriesContextProvider=e}),98);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return a!=null?a.sendTextMessage(c,d,e,f,g):b("Promise").reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisHideNativeAppBanner",["PolarisBatchDOM","PolarisConfig","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=c("emptyFunction")),d("PolarisConfig").isIOS()&&d("PolarisBatchDOM").mutate(function(){window.setTimeout(function(){window&&document.body&&(window.scrollTo(0,document.body.scrollHeight),a())},0)})}g.hideNativeAppBanner_HACK=a}),98);/*FB_PKG_DELIM*/
__d("IGDSCircleOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("circle",{cx:"12.008",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisDirectSearchUserContainerToken.react",["IGDSBox.react","IGDSButton.react","IGDSXPanoFilledIcon","PolarisDirectStrings","PolarisIGCoreSVGIconButton","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClick,e=a.onRemoveClick,f=a.selectedToken,g=a.userId;a=a.username;f=f===g;var i=f?"primaryButton":"secondaryAction",j=f?"web-always-white":"ig-primary-button",k=f?"white_link":"primary_link";return h.jsxs(c("IGDSBox.react"),{color:i,direction:"row",height:26,justifyContent:"center",margin:1,paddingX:3,position:"relative",shape:"extraRounded",children:[h.jsx(c("IGDSButton.react"),{label:a,onClick:b,variant:k}),(f||d("PolarisUA").isDesktop())&&h.jsx(c("IGDSBox.react"),{justifyContent:"center",marginStart:2,position:"relative",children:h.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){return e(g)},padding:0,children:h.jsx(c("IGDSXPanoFilledIcon"),{alt:d("PolarisDirectStrings").DELETE_ITEM_TEXT,color:j,size:12})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDirectActionInitInbox",["PolarisDirectAPI","PolarisDirectActionConnectToMqtt","PolarisDirectActionCreatePendingThreadsLoaded","PolarisDirectActionLoadInbox","PolarisDirectActionRefreshPendingInbox","PolarisDirectActionReloadInbox","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){try{c=c();c=c.direct;var e=c.inboxLoaded;c=c.seqId;d("PolarisDirectActionsLogger").directActionsLogger.debugTrace("initial_state",{inboxLoaded:e,seqId:c});!e?yield b(d("PolarisDirectActionLoadInbox").loadInbox(a)):(b({type:"DIRECT_INBOX_READY"}),d("PolarisDirectAPI").getInbox("pending_only",{limit:0}).then(function(a){a.pending_requests_total>0?b(d("PolarisDirectActionRefreshPendingInbox").refreshPendingInbox()):b(d("PolarisDirectActionCreatePendingThreadsLoaded").createPendingThreadsLoaded({},{},{},null))})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_init_inbox_failed",a),b(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}));b(d("PolarisDirectActionConnectToMqtt").connectToMqtt("message"))}catch(c){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_inbox_cache_failed",c),b(d("PolarisDirectActionReloadInbox").reloadInbox(a))}});return function(a,b){return c.apply(this,arguments)}}()}g.initInbox=a}),98);