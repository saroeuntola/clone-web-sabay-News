;/*FB_PKG_DELIM*/

__d("PolarisClipsDesktopCommentsButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisClipsDesktopCommentsButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"group.pk"}],storageKey:null},{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"user.pk"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisMediaOwnerTypeFragment_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisClipsDesktopLikeButtonFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisClipsDesktopLikeButtonFragment_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisPostLikedByDialog_media"},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisClipsTabDesktopClipFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisClipsTabDesktopClipFragment_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_fbid",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisClipsViewerUserFeedbackFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostModalContext_media"},{args:null,kind:"FragmentSpread",name:"PolarisClipsDesktopVideoPlayerFragment_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisClipsDesktopVideoPlayerBackgroundBlurFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisClipsDesktopVideoPlayerBackgroundBlurFragment_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisClipsDesktopVideoPlayerFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisClipsDesktopVideoPlayerFragment_media",selections:[{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMediaVideoPlayerFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisClipsDesktopVideoPlayerSurfaceFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisClipsDesktopVideoPlayerBackgroundBlurFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaSensitivityOverlayFragment_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisClipsDesktopVideoPlayerSurfaceFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisClipsDesktopVideoPlayerSurfaceFragment_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW",path:"user.pk"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMediaVideoPlayerUserFeedback_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaVideoPlayerAudioToggleFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisClipsViewerOverlayContentFragment_media"},{args:null,kind:"FragmentSpread",name:"usePolarisDashInfoFragment_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("IGDSArrowCwFilled24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M.08 10.63A11.98 11.98 0 0 1 21.5 4.707V2.284a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 .75.75v5.625a.75.75 0 0 1-.75.75h-5.625a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75h1.826a9.48 9.48 0 1 0-.566 12.375.745.745 0 0 1 1.012-.061l.775.635a.754.754 0 0 1 .071 1.098A11.992 11.992 0 0 1 .08 10.63Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisClipsDesktopCommentsPopoverPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","IGDSPopover.react","PolarisClipsDesktopCommentsContainerPopoverPlaceholder.react","PolarisClipsDesktopPopoverHeader.react","PolarisClipsTabHelpers","PolarisGenericStrings","PolarisIGTheme.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={arrowContainer:{marginBottom:"x1yztbdb",$$css:!0},darkModeBackgroundColor:{backgroundColor:"x1c9t90q",$$css:!0},inputPlaceholder:{borderTopStartRadius:"xv4rd2r",borderTopEndRadius:"x19baegm",borderBottomEndRadius:"x1vswc8w",borderBottomStartRadius:"x1jq0agw",height:"x1vqgdyp",width:"xh8yej3",$$css:!0}},k=343;function l(){var a=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark;return h.jsx(c("IGDSBox.react"),{alignItems:"center",bottom:!0,marginBottom:3,marginTop:3,paddingX:7,width:"100%",children:h.jsx(c("IGDSGlimmer.react"),{index:6,xstyle:[j.inputPlaceholder,a&&j.darkModeBackgroundColor]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.anchorRef;a=i(d("PolarisClipsTabHelpers").getMaxPopoverHeight(a==null?void 0:a.current));return h.jsx(c("IGDSPopover.react"),{arrowContainerXStyle:j.arrowContainer,popoverContent:h.jsxs(c("IGDSBox.react"),{height:a.current,width:k,children:[h.jsx(c("PolarisClipsDesktopPopoverHeader.react"),{onClose:c("emptyFunction"),children:d("PolarisGenericStrings").COMMENTS_TEXT}),h.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"hidden",paddingX:8,children:h.jsx(c("PolarisClipsDesktopCommentsContainerPopoverPlaceholder.react"),{containerHeight:a.current})}),h.jsx(l,{})]}),popoverName:"clips-comments-placeholder",withArrow:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsDesktopCommentsPopoverRoot.entrypoint",["JSResourceForInteraction","PolarisPostCommentsContainerQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;return{queries:{commentsQuery:{options:{},parameters:c("PolarisPostCommentsContainerQuery$Parameters"),variables:{media_id:a.media_id}}}}},root:c("JSResourceForInteraction")("PolarisClipsDesktopCommentsPopover.react").__setRef("PolarisClipsDesktopCommentsPopoverRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisClipsDesktopCommentsButton.react",["fbt","CometRelay","IGDSCommentPanoOutlineIcon","IGDSEntryPointPopoverTrigger.react","PolarisClipsDesktopCommentsButton_media.graphql","PolarisClipsDesktopCommentsPopoverPlaceholder.react","PolarisClipsDesktopCommentsPopoverRoot.entrypoint","PolarisClipsViewerControlIcon.react","PolarisMediaConstants","err","react","usePolarisMediaOwnerType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useRef,l=h._("__JHASH__4Bxcnayze-g__JHASH__"),m=i!==void 0?i:i=b("PolarisClipsDesktopCommentsButton_media.graphql");function a(a){var b=a.fragmentKey,e=a.iconColor,f=a.shadow,g=d("CometRelay").useFragment(m,b);a=c("usePolarisMediaOwnerType")(g);b=a==="group"?(b=g.group)==null?void 0:b.pk:(a=g.user)==null?void 0:a.pk;var h=k();if(b==null)throw c("err")("Owner id cannot be null");return j.jsx(c("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{routeParams:{},routeProps:{media_id:g.pk}},fallback:j.jsx(c("PolarisClipsDesktopCommentsPopoverPlaceholder.react"),{anchorRef:h}),otherProps:{adInfo:null,anchorRef:h,commentsDisabled:g.commenting_disabled_for_viewer===!0,isVideo:(g==null?void 0:g.product_type)===d("PolarisMediaConstants").MediaTypes.VIDEO,mediaCode:g.code,mediaId:g==null?void 0:g.pk,onClose:function(){},ownerId:b},popoverEntryPoint:c("PolarisClipsDesktopCommentsPopoverRoot.entrypoint"),popoverType:"menu",position:"end",preloadTrigger:"button",children:function(a,b){a(h.current);return j.jsx(c("PolarisClipsViewerControlIcon.react"),{alt:l,Icon:c("IGDSCommentPanoOutlineIcon"),iconColor:e,numLabel:(a=g.comment_count)!=null?a:0,onClick:b,ref:h,shadow:f})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsDesktopLikeButton.react",["BaseButton.react","CometRelay","PolarisClipsDesktopLikeButtonFragment_media.graphql","PolarisClipsViewerControlIconContainer.react","PolarisClipsViewerControlIconLabel.react","PolarisLikeButton.react","PolarisPostDetailsSectionProvider.react","PolarisPostStrings","react","usePolarisLikeMedia","usePolarisPostLikedByDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useState,k=h!==void 0?h:h=b("PolarisClipsDesktopLikeButtonFragment_media.graphql");function a(a){var b,e=a.fragmentKey,f=a.iconColor;a=a.shadow;var g=d("CometRelay").useFragment(k,e);e=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider();var h=c("usePolarisLikeMedia")({analyticsContext:e,mediaFragmentKey:g,sourceOfLike:"button"});e=j(!1);var l=e[0];e=e[1];var m=c("usePolarisPostLikedByDialog")(g),n=m.onTriggerOpenModal;m=m.shouldHideCounts;return i.jsx(c("PolarisClipsViewerControlIconContainer.react"),{numLabel:g.like_count,children:i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisLikeButton.react"),{color:f,isHovered:l,isLiked:(b=g.has_liked)!=null?b:!1,onChange:function(a){return h(g.pk,a)},padding:0,setIsHovered:e,shadow:a}),i.jsx(c("BaseButton.react"),{onClick:n,children:i.jsx(c("PolarisClipsViewerControlIconLabel.react"),{hideCounts:m,iconColor:f,isHovered:l,numLabel:(b=g.like_count)!=null?b:0,setIsHovered:e,shadow:a,textLabel:d("PolarisPostStrings").LIKES_TEXT})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsDesktopVideoPlayerBackgroundBlur.react",["CometImage.react","CometRelay","PolarisClipsDesktopVideoPlayerBackgroundBlurFragment_media.graphql","PolarisViewpointReact.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useState,k=h!==void 0?h:h=b("PolarisClipsDesktopVideoPlayerBackgroundBlurFragment_media.graphql"),l={blurBackgroundImage:{filter:"x1bs05mj",height:"x5yr21d",opacity:"x1ptxcow",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",width:"xwzpupj",$$css:!0},blurBackgroundImageActive:{opacity:"xuzhngd",$$css:!0}};function a(a){var b;a=a.queryReference;a=d("CometRelay").useFragment(k,a);var e=j(!1),f=e[0],g=e[1];e=d("PolarisViewpointReact.react").useViewpoint({action:function(a){a.percentVisible>=.5?g(!0):g(!1)},id:"video_bg_viewpoint_"+a.pk});return((b=a.image_versions2)==null?void 0:(b=b.candidates)==null?void 0:(b=b[0])==null?void 0:b.url)!=null?i.jsx(c("CometImage.react"),{ref:e,src:a.image_versions2.candidates[0].url,xstyle:[l.blurBackgroundImage,f&&l.blurBackgroundImageActive]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsDesktopVideoPlayerSurface.react",["CometRelay","IGDSBox.react","PolarisClipsDesktopVideoPlayerSurfaceFragment_media.graphql","PolarisClipsViewerOverlayContent.react","PolarisIGCorePressable","PolarisMediaVideoPlayerAudioToggle.react","PolarisMediaVideoPlayerPlayButton.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","VideoPlayerSurface.react","emptyFunction","react","stylex","useBoolean","usePolarisDashInfo","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton","usePolarisVideoXControllerLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisClipsDesktopVideoPlayerSurfaceFragment_media.graphql"),k={overlay:{backgroundImage:"xutac5l",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",flexDirection:"xdt5ytf",justifyContent:"x1qughib",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},overlayCaptionExpanded:{backgroundImage:"xxbzj5q",$$css:!0},overlayContainer:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){a=a.queryReference;a=d("CometRelay").useFragment(j,a);var b=c("usePolarisDashInfo")(a),e=d("VideoPlayerHooks").useLastPauseReason();e=c("usePolarisVideoShowPlayButton")()&&e!==null&&e!=="autoplay_initiated";var f=c("usePolarisVideoPressInteraction")({playButtonShowing:e,shouldUnmuteOnPlay:!0}),g=c("useBoolean")(!1);c("usePolarisVideoXControllerLogger")({adInfo:null,analyticsContext:"reelsTab",carouselParentId:null,dashInfo:b,id:a.pk,ownerId:(b=a.user)==null?void 0:b.pk,postedAt:Number(a.taken_at),trackingToken:a.organic_tracking_token});b=function(a){a.stopPropagation(),g.setTrue()};var h=function(a){a.stopPropagation(),g.setFalse()};return i.jsx(c("VideoPlayerSurface.react"),{children:i.jsx("div",{className:"x78zum5 xdt5ytf x5yr21d xh8yej3",children:i.jsxs(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:f,children:[i.jsxs(c("PolarisIGCorePressable"),{className:c("stylex")(k.overlay,g.value&&k.overlayCaptionExpanded),onPointerDown:function(a){g.value&&a.stopPropagation()},onPress:g.value?h:c("emptyFunction"),children:[i.jsx(c("IGDSBox.react"),{alignItems:"end",marginEnd:2,marginTop:2,children:i.jsx(c("PolarisMediaVideoPlayerAudioToggle.react"),{queryReference:a})}),i.jsx(c("IGDSBox.react"),{alignItems:"end",direction:"row",display:"flex",flex:"grow",padding:4,width:"100%",children:i.jsx(c("PolarisClipsViewerOverlayContent.react"),{fragmentKey:a,isExpanded:g.value,onExpand:g.value?c("emptyFunction"):b})})]}),i.jsx(c("PolarisMediaVideoPlayerPlayButton.react"),{onClick:f.handler,showButton:e})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsDesktopVideoPlayer.react",["CometRelay","PolarisClipsDesktopVideoPlayerBackgroundBlur.react","PolarisClipsDesktopVideoPlayerFragment_media.graphql","PolarisClipsDesktopVideoPlayerSurface.react","PolarisMediaSensitivityOverlay.next.react","PolarisMediaVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useState,k=h!==void 0?h:h=b("PolarisClipsDesktopVideoPlayerFragment_media.graphql");function a(a){var b;a=a.queryReference;a=d("CometRelay").useFragment(k,a);b=j((a==null?void 0:(b=a.media_overlay_info)==null?void 0:b.title)!=null);var e=b[0],f=b[1];return i.jsxs("div",{className:"x78zum5 xl56j7k x1n2onr6 xh8yej3",children:[i.jsx(c("PolarisClipsDesktopVideoPlayerBackgroundBlur.react"),{queryReference:a}),i.jsx("div",{className:"x1lcm9me x1yr5g0i xrt01vj x10y3i5r x78zum5 x5yr21d x6ikm8r x10wlt62 xh8yej3",children:e?i.jsx(c("PolarisMediaSensitivityOverlay.next.react"),{analyticsContext:"reelsTab",onShowPostClicked:function(){return f(!1)},queryReference:a}):i.jsx(c("PolarisMediaVideoPlayer.react"),{queryReference:a,children:i.jsx(c("PolarisClipsDesktopVideoPlayerSurface.react"),{queryReference:a})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsTabDesktopClipError.react",["IGDSArrowCwFilled24Icon","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"x4fwpa6",display:"x78zum5",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(){return h.jsxs(c("IGDSBox.react"),{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",width:"100%",xstyle:i.container,children:[h.jsx(c("IGDSBox.react"),{marginBottom:8,children:h.jsx(c("IGDSArrowCwFilled24Icon"),{alt:d("PolarisGenericStrings").RETRY_TEXT,color:"ig-primary-icon",size:24})}),h.jsx(c("IGDSBox.react"),{marginBottom:4,children:h.jsx(c("IGDSText.react"),{color:"primaryText",size:"title",children:d("PolarisGenericStrings").CLIPS_PLAYER_FAILURE_TEXT})}),h.jsx(c("IGDSBox.react"),{marginBottom:8,children:h.jsx(c("IGDSText.react"),{color:"secondaryText",weight:"light",children:d("PolarisGenericStrings").CLIPS_PLAYER_FAILURE_SUBTEXT})}),h.jsx(c("IGDSButton.react"),{display:"block",label:"Reload",onClick:function(){return window.location.reload()}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsTabDesktopClip.react",["CometErrorBoundary.react","CometRelay","PolarisClipsDesktopVideoPlayer.react","PolarisClipsTabDesktopClipError.react","PolarisClipsTabDesktopClipFragment_media.graphql","PolarisClipsTabHelpers","PolarisClipsViewerUserFeedback.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","cr:3100","react","stylex","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useLayoutEffect,k=e.useMemo,l=e.useState,m=.5,n=h!==void 0?h:h=b("PolarisClipsTabDesktopClipFragment_media.graphql");function o(a){a=a.children;return i.jsx(i.Fragment,{children:a})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.clipIndex,f=a.onClipVisible;a=a.queryReference;var g=d("CometRelay").useFragment(n,a);a=k(function(){var a;return[function(a){if(a.percentVisible>=m){f(g.pk,(a=g.code)!=null?a:"",e)}},d("PolarisOrganicImpressionAction").makeClipImpressionAction({id:g.pk,owner:{id:(a=g.actor_fbid)!=null?a:""}},"reelsTab")]},[e,g.actor_fbid,g.code,g.pk,f]);a.push(d("PolarisVpvdImpressionAction").makeClipVpvdImpressionAction({id:g.pk},e,"reelsTab"));var h=l(0),p=h[0],q=h[1],r=p*(9/16),s=c("useThrottled")(function(){q(d("PolarisClipsTabHelpers").getReelMediaContainerHeight())},d("PolarisClipsTabHelpers").WINDOW_RESIZE_THROTTLE);j(function(){s();window.addEventListener("resize",s);return function(){window.removeEventListener("resize",s)}},[s]);var t=d("PolarisClipsTabHelpers").getClipsContainerStyles();h=b("cr:3100")?b("cr:3100").PolarisPostModalContextProvider:o;return i.jsx(h,{queryReference:g,children:i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:a,id:g.pk,children:function(a){return i.jsxs("div",{className:c("stylex")(t.container),"data-testid":void 0,ref:a,children:[i.jsx("div",{className:c("stylex")(t.container),style:{height:p>0?p+"px":"100%",width:r>0?r+"px":void 0},children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("PolarisClipsTabDesktopClipError.react"),{})},children:i.jsx(c("PolarisClipsDesktopVideoPlayer.react"),{queryReference:g})})}),i.jsx(c("PolarisClipsViewerUserFeedback.react"),{containerXStyle:t.ufi,fragmentKey:g,iconColor:"ig-primary-icon",shadow:!1})]})}},g.pk)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsTabDesktopClipContainer.react",["IGDSBox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1qjc9v5 x9f619 x78zum5 xg7h5cd xl56j7k x1xfsgkm xqmdsaz x1bhewko xgv127d xh8yej3",children:a}),h.jsx(c("IGDSBox.react"),{height:16,width:"100%"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisClipsSeenState",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function i(a){a=Array.from(a.current).map(function(a){return{id:a}});return JSON.stringify(a)}function a(a,b,c){var d=h(new Set());function e(e,f){if(e)return;e={container_module:a,seen_reels:i(d)};c!=null&&(e=babelHelpers["extends"]({},e,{chaining_media_id:c,should_refetch_chaining_media:!1}));d.current=new Set();f(b,{UNSTABLE_extraVariables:{data:e}})}return{formatSeenStateDataAndLoadNext:e,seenClipIDsPerPageRef:d}}g["default"]=a}),98);
__d("usePolarisClipsTabDesktopPositionRestore",["PolarisClipsTabDesktopContainerElementProvider.react","PolarisScrollPositionHistory","react","usePolarisClipsLastViewedClip"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useRef;function a(a,b){b=b?a.xdt_api__v1__clips__connected__connection:a.xdt_api__v1__clips__home__connection;a=d("PolarisClipsTabDesktopContainerElementProvider.react").usePolarisClipsTabDesktopContainerElementProvider();var e=a.element;a=a.setElement;var f=c("usePolarisClipsLastViewedClip")(),g=f[0];f=f[1];g=(g=g)!=null?g:{};var j=g.id,k=g.idx,l=g.y;b=b==null?void 0:(b=b.edges[(g=k)!=null?g:-1])==null?void 0:(k=b.node)==null?void 0:(g=k.media)==null?void 0:g.pk;var m=j!=null&&b!=null&&b===j,n=i(!1);h(function(){n.current===!1&&m&&l!=null&&e!=null&&(d("PolarisScrollPositionHistory").setScrollPosition(e,0,l),n.current=!0)},[e,m,l]);return{containerEl:e,setContainerEl:a,setLastViewedClip:f}}g["default"]=a}),98);
__d("PolarisClipsTabDesktopContainerImpl.react",["PolarisClipsTabDesktopClip.react","PolarisClipsTabDesktopClipContainer.react","PolarisClipsTabDesktopContainerElementProvider.react","PolarisErrorBoundary.react","XPolarisClipsTabControllerRouteBuilder","getPolarisKeyCommandConfig","gkx","nullthrows","react","replaceURL","stylex","useGlobalKeyCommands","usePolarisClipsSeenState","usePolarisClipsTabDesktopPositionRestore","usePolarisNavigateToSurface","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=10,l="clips_tab_desktop_page",m="clips_tab_desktop_page_non_profiled",n={root:{MsOverflowStyle:"x1pq812k",backgroundColor:"xvbhtw8",boxSizing:"x9f619",height:"x1dr59a3",overflowY:"x1odjw0f",paddingTop:"x1miatn0",scrollbarWidth:"x1rohswg",scrollPaddingTop:"x1p6e16i",scrollSnapType:"x168l2et","::-webkit-scrollbar_display":"xfk6m8","::-webkit-scrollbar_height":"x1yqm8si","::-webkit-scrollbar_width":"xjx87ck",$$css:!0},tabbedHeaderOffset:{position:"x1n2onr6",top:"x1jtk2o2",$$css:!0}};function o(a){return(a=a==null?void 0:a.scrollTop)!=null?a:0}function a(a){var b=a.chainingMediaID,e=a.data,f=a.hasNext,g=a.isLoadingNext,p=a.isNonProfiledVariant,q=a.loadNext,r=p?e.xdt_api__v1__clips__connected__connection:e.xdt_api__v1__clips__home__connection;a=c("usePolarisClipsTabDesktopPositionRestore")(e,p);var s=a.containerEl;e=a.setContainerEl;var t=a.setLastViewedClip,u=j(function(){return r==null?void 0:r.edges.map(function(a){return(a=a.node.media)==null?void 0:a.code})},[r==null?void 0:r.edges]),v=i(function(a){var b;b=(b=u==null?void 0:u.length)!=null?b:0;a=(a=u==null?void 0:u.indexOf(a))!=null?a:-1;return a>=b-3},[u]);a=c("usePolarisClipsSeenState")(p?m:l,k,b);var w=a.formatSeenStateDataAndLoadNext,x=a.seenClipIDsPerPageRef,y=i(function(){w(g,q)},[g,q,w]),z=i(function(a){a=v(a);f&&a&&!g&&y()},[v,f,g,y]);b=i(function(a,b,d){var e=c("XPolarisClipsTabControllerRouteBuilder").buildUri({shortcode:b}).getPath();c("replaceURL")(e);t({id:a,idx:d,y:o(s)});x.current.add(a);z(b)},[s,z,x,t]);var A=c("useThrottled")(b);a=d("PolarisClipsTabDesktopContainerElementProvider.react").usePolarisClipsTabDesktopContainerElementProvider();b=a.tabbedHeaderVisible;var B=d("usePolarisNavigateToSurface").usePolarisNavigateToSurface();a=j(function(){var a=[];c("gkx")("8378")&&a.push.apply(a,[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("reelsTab","goToHome",function(){B(d("usePolarisNavigateToSurface").Destination.Home)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("reelsTab","goToMessages",function(){B(d("usePolarisNavigateToSurface").Destination.Messages)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("reelsTab","goToProfile",function(){B(d("usePolarisNavigateToSurface").Destination.Profile)})]);return a},[B]);c("useGlobalKeyCommands")(a);return h.jsx("div",{className:c("stylex")(n.root,b&&n.tabbedHeaderOffset),ref:e,children:r==null?void 0:r.edges.map(function(a,b){var d=c("nullthrows")(a.node.media);return h.jsx(c("PolarisErrorBoundary.react"),{children:h.jsx(c("PolarisClipsTabDesktopClipContainer.react"),{children:h.jsx(c("PolarisClipsTabDesktopClip.react"),{clipIndex:b,onClipVisible:A,queryReference:d})})},(p===!0?"following":"suggested")+"-"+((d=(b=a.node.media)==null?void 0:b.id)!=null?d:""))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsTabDesktopContainer.react",["CometRelay","PolarisClipsTabDesktopContainerImpl.react","PolarisClipsTabDesktopFragment","PolarisClipsTabDesktopQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.props;a=a.queries;a=d("CometRelay").usePreloadedQuery(c("PolarisClipsTabDesktopQuery.graphql"),a.polarisClipsTapDesktopPageQuery);a=d("CometRelay").usePaginationFragment(c("PolarisClipsTabDesktopFragment"),a);var e=a.data,f=a.hasNext,g=a.isLoadingNext;a=a.loadNext;return h.jsx(c("PolarisClipsTabDesktopContainerImpl.react"),{chainingMediaID:b.chainingMediaID,data:e,hasNext:f,isLoadingNext:g,isNonProfiledVariant:!1,loadNext:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);